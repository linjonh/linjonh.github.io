---
title: 4æ¡ˆä¾‹ä¸‰å‘å¸ƒLTSæŸ¥çœ‹å·¥å…·Nodeçš„ç”Ÿæ€åˆ©å™¨-NPM
date: 2025-01-09T21:28:01+08:00
description: "ä»£ç æ¡ˆä¾‹æŒæ¡NodeJSæ ¸å¿ƒåŸºç¡€çŸ¥è¯†ï¼Œ4æ¡ˆä¾‹ä¸‰å‘å¸ƒLTSæŸ¥çœ‹å·¥å…·Nodeçš„ç”Ÿæ€åˆ©å™¨-NPM"
categories: ['ä»£ç æ¡ˆä¾‹æŒæ¡NodeJSæ ¸å¿ƒåŸº']
tags: ['ä»£ç æ¡ˆä¾‹æŒæ¡NodeJSæ ¸å¿ƒåŸº']
artid: "1741706025"
image:
    path: https://bing.ee123.net/img/rand?artid=1741706025
    alt: 4æ¡ˆä¾‹ä¸‰å‘å¸ƒLTSæŸ¥çœ‹å·¥å…·Nodeçš„ç”Ÿæ€åˆ©å™¨-NPM
featuredImage: https://bing.ee123.net/img/rand?artid=1741706025
featuredImagePreview: https://bing.ee123.net/img/rand?artid=1741706025
cover: https://bing.ee123.net/img/rand?artid=1741706025
image: https://bing.ee123.net/img/rand?artid=1741706025
img: https://bing.ee123.net/img/rand?artid=1741706025
---

### æœ¬èµ„æºç”± itjc8.com æ”¶é›†æ•´ç†
# [å‘å¸ƒ LTS æŸ¥çœ‹å·¥å…·] Node çš„ç”Ÿæ€åˆ©å™¨ - NPM
```!
æœ¬èŠ‚ç›®æ ‡ï¼š[å¼€å‘ä¸€ä¸ªæŸ¥çœ‹ Node LTS ç‰ˆæœ¬çš„å‘½ä»¤è¡Œå·¥å…·] ä¸€æ²™ä¸€ä¸–ç•Œï¼Œæ¨¡å—æˆå°±é›„ä¼Ÿå·¥ç¨‹ï¼Œè€Œæ¨¡å—çš„çªèº«ä¹‹å¤„å°±æ˜¯åŒ…çš„æµ·æ´‹ï¼Œä¹Ÿå°±æ˜¯ NPM æ‰€è¿æ¥å’Œç®¡ç†çš„å·¥å…·å¤©å ‚ã€‚
```

![](https://user-gold-cdn.xitu.io/2018/10/24/166a5e46cbfdf315?w=1329&h=372&f=png&s=106435)

Node ä¸–ç•Œé‡Œï¼Œä¸€åˆ‡çš†æ¨¡å—ï¼Œè€Œå®‰è£…æ¨¡å—ï¼Œçš†æ˜¯ `npm i` ï¼ˆä¹Ÿå°±æ˜¯ `npm install` çš„ç¼©å†™ï¼‰ã€‚

`npm install` æƒ³å¿…æ˜¯æˆ‘ä»¬æ¥è§¦ Node åï¼Œæœ€å…ˆ Get åˆ°çš„å‘½ä»¤ï¼Œå®ƒå¾€å¾€è·Ÿéš Node å¤§ç‰ˆæœ¬åŒæ—¶å®‰è£…åˆ°æœ¬åœ°ï¼Œæ‰€ä»¥å½“ä½  `which node` å’Œ `which npm` æŸ¥çœ‹æ—¶ï¼š

```bash
âœ  which node
/Users/black/.nvm/versions/node/v10.11.0/bin/node
âœ  which npm
/Users/black/.nvm/versions/node/v10.11.0/bin/npm
```
è¿™ä¿©å¥½å…„å¼Ÿå¦‚å½±å¦‚éšä»ä¸åˆ†ç¦»ï¼Œå½“ç„¶ä½ ä¹Ÿå¯ä»¥é€šè¿‡ `npm install npm -g` æ¥å‡çº§ npm åˆ°æŸä¸ªç‰¹å®šç‰ˆæœ¬æˆ–è€…æœ€æ–°ç‰ˆæœ¬ï¼Œå¦‚æœè¯´ Node æ˜¯æ‰“å¼€äº†å‰åç«¯åŒä¸€ç§è¯­è¨€çš„èƒ½åŠ›å¤§é—¨ï¼Œé‚£ä¹ˆ npm å°±æ˜¯è®©åƒå†›ä¸‡é©¬é€šè¿‡å¤§é—¨çš„é«˜é€Ÿå…¬è·¯ï¼Œå®Œå…¨èµ‹èƒ½äº† Nodeï¼Œè®©å®ƒçš„èƒŒåé•¿å‡ºäº†ä¸€ä¸ªæ— æ¯”ç¹è£çš„å†›å·¥åŸå¸‚ç¾¤ï¼Œæˆåƒä¸Šä¸‡çš„æ‰‹è‰ºäººåœ¨é‚£é‡Œæ— æ—¶æ— åˆ»çš„åˆ¶é€ è¶æ‰‹çš„å·¥å…·ï¼Œä½ èƒ½æƒ³åˆ°çš„å‡ ä¹æ‰€æœ‰åŠŸèƒ½ï¼Œåªè¦æƒ³å·æ‡’ï¼Œå°±å¯ä»¥å‰å¾€å…è´¹å–å›æ¥ã€‚

å¤§å®¶å¯ä»¥è¾“å…¥ `npm -h` `npm -l` æ¥æŸ¥çœ‹ npm æä¾›çš„å‘½ä»¤é›†ï¼Œå¦‚æœè¿™äº›å‘½ä»¤ç›¸å½“ä¸€éƒ¨åˆ†ä½ éƒ½å¾ˆç†Ÿæ‚‰ï¼Œé‚£ä¹ˆè¿™ä¸€èŠ‚å°±å¯ä»¥è·³è¿‡äº†ï¼Œæˆ‘ä»¬ä¼šæŒ‘é€‰å‡ ä¸ªå¸¸ç”¨çš„ä»‹ç»ä¸€äº›ï¼Œä»‹ç»ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹ä¸‹ npm çš„æ¨¡å—å®‰è£…ç­–ç•¥ã€‚


### åŒ…ï¼ˆæ¨¡å—ï¼‰æœåŠ¡ - npm registry

npm å…¨ç§° Node Package Managerï¼Œåªæ˜¯å®ƒæ—©å°±ä¸æ˜¯åªä¸º Node æœåŠ¡çš„åŒ…ï¼ˆæ¨¡å—ï¼‰ç®¡ç†å·¥å…·ï¼Œæµ·æ´‹èˆ¬çš„å‰ç«¯æ¨¡å—ä¹Ÿä¸€å¹¶è¢«å®ƒçº³å…¥æ€€ä¸­ï¼Œå‰åç«¯çš„æ¨¡å—å¦‚æ­¤ä¹‹å¤šï¼Œç”šè‡³ç›´æ¥å‚¬ç”Ÿäº†å•†ä¸šæœºä¼š - [npmï¼ŒInc](https://www.npmjs.com/about) å…¬å¸çš„è¯ç”Ÿï¼Œä¹Ÿå°±æ˜¯ Isaaz è¾èŒåï¼ˆIsaaz å°±æ˜¯æˆ‘ä»¬å°å†Œæœ€å¼€å§‹æåˆ°çš„ Node ç¬¬äºŒä»»æŠ€æœ¯è´Ÿè´£äººçš„è¿™å“¥ä»¬å„¿ï¼‰ï¼Œä»–æˆç«‹çš„ä¸“é—¨ç»´æŠ¤ npm registry çš„åˆ›ä¸šå…¬å¸ï¼Œä¸»è¦ä¸ºä¼ä¸šæä¾›ç§æœ‰çš„ npm registry æœåŠ¡å’Œå›¢é˜Ÿåˆä½œçš„ Saas æœåŠ¡ï¼Œ2014~2015 å¹´å°±æ‹¿åˆ°äº† 1000 å¤šä¸‡ç¾å…ƒçš„æŠ•èµ„ã€‚

æœ‰äº† npmï¼Œè®©åŒ…çš„ä¸‹è½½å˜æˆä¸€ä»¶ç‰¹åˆ« easy çš„äº‹æƒ…ï¼Œæ¯”å¦‚å‘½ä»¤è¡Œé‡Œä¸¢è¿›å» `npm i lodash@4.17.11` è¿è¡Œåï¼Œ å°±å®‰è£…å¥½äº†ç‰ˆæœ¬æ˜¯ 4.17.11 çš„ lodash åŒ…ï¼ˆç›®å½•é‡Œéœ€è¦å…ˆ `npm init` åˆ›å»º package.json æ–‡ä»¶ï¼‰ï¼Œè¿™äº›åŒ…ä¼šè¢« npm æ”¾åˆ°æœ¬åœ°é¡¹ç›®ç›®å½•çš„ node_nodules ç›®å½•ä¸‹ï¼Œè¿™é‡Œç®€å•åŒºåˆ†ä¸‹åŒ…å’Œæ¨¡å—ï¼Œä»æ¨¡å—çš„è§’åº¦ï¼Œæˆ‘ä»¬ä¼šçœ‹åˆ°ä¸€ä¸ªæœ‰ç‰¹å®šåŠŸèƒ½æˆ–è€…ç‰¹å®šåŠŸèƒ½é›†åˆçš„æ–‡ä»¶å¤¹ï¼Œå®ƒé‡Œé¢æœ‰å¾ˆå¤šè‡ªèº«çš„æ¨¡å—æ–‡ä»¶ä¹Ÿæœ‰å¾ˆå¤šä¾èµ–çš„å…¶ä»–æ–‡ä»¶ï¼Œé‚£ä¹ˆæ— è®ºæ˜¯ä»å“ªä¸ªé¢—ç²’åº¦çœ‹ï¼Œéƒ½å¯ä»¥ç§°ä¸ºæ¨¡å—ï¼Œæ‰€ä»¥æˆ‘ä»¬ç®¡ npm å«æ¨¡å—ç®¡ç†å·¥å…·ä¹Ÿæ˜¯æˆç«‹çš„ï¼Œä½†æ˜¯é¢—ç²’åº¦å¾ˆéš¾ç›´è§‚çš„è¡¨è¾¾ï¼Œè€ŒåŒ…å‘¢ï¼Œå°±å¯ä»¥ç®€å•çœ‹åšæ˜¯ä¸€ä¸ªç‰¹å®šåŠŸèƒ½çš„æ–‡ä»¶å¤¹ï¼Œæ— è®ºå®ƒé‡Œé¢æœ‰å¤šå°‘æ¨¡å—ç»„æˆï¼Œè¿™ä¸ªæ–‡ä»¶å¤¹å¯ä»¥è¢«å‘å¸ƒåˆ°çº¿ä¸Šï¼Œé‚£ä¹ˆå¯ä»¥æŠŠå®ƒçœ‹åšæ˜¯åŒ…ï¼Œæˆ‘ä»¬çŸ¥é“åŒ…æ˜¯æ¨¡å—çš„é›†åˆå°±è¡Œäº†ã€‚

æ¨¡å—æ±‡èšæˆäº†åŒ…ï¼Œé‚£åŒ…æ˜¯ä»å“ªé‡Œä¸‹è½½çš„å‘¢ï¼Œç­”æ¡ˆå°±æ˜¯ registryã€‚

registry ç›´è¯‘å°±æ˜¯æ³¨å†Œè¡¨ï¼Œå†ç›´ç™½ä¸€ç‚¹ï¼Œå°±æ˜¯æ‰€æœ‰å¯è¢«ä¸‹è½½çš„æ¨¡å—ï¼Œéœ€è¦æœ‰ä¸€ä¸ªåœ°æ–¹å­˜å‚¨å’Œè®°å½•ä»–ä»¬ï¼Œå¹¶ä¸”å¯¹å¤–æä¾›ä¸€ä¸ªå¯æŸ¥å’Œä¸‹è½½çš„æœåŠ¡ï¼Œå¯¹äº Node æ¨¡å—æ¥è¯´ï¼Œnpm registry å°±æ˜¯è¿™ä¸ªæœåŠ¡ï¼Œé‚£ä¹ˆæ•´ä¸ª npm åŒ…æ‹¬ä¸‰ä¸ªéƒ¨åˆ†ï¼š

1. npm å®˜ç½‘ï¼Œç½‘å€ [www.npmjs.com](https://www.npmjs.com/)ï¼Œå¯ä»¥é€šè¿‡ç½‘ç«™ç›´æ¥æŸ¥è¯¢ä¸€ä¸ªæ¨¡å—çš„ç›¸å…³ä¿¡æ¯
2. npm registryï¼Œ[https://registry.npmjs.org/](https://registry.npmjs.org/) åˆ™æ˜¯æ¨¡å—æŸ¥è¯¢ä¸‹è½½çš„æœåŠ¡ API
3. [npm cli](https://github.com/npm/cli)ï¼Œåˆ™æ˜¯ä¸€ä¸ªå‘½ä»¤è¡Œä¸‹è½½å·¥å…·ï¼Œé€šè¿‡å®ƒæ¥ä» registry ä¸‹è½½æ¨¡å—

éœ€è¦æˆ‘ä»¬æ³¨æ„çš„æ˜¯ï¼Œè¿™ä¸ª npm registry ä¸è¿‡æ˜¯ Isaaz å…¬å¸æä¾›ç»™ Node ç¤¾åŒºçš„æœåŠ¡ï¼Œä¹Ÿæ˜¯ npm é»˜è®¤ä½¿ç”¨çš„æœåŠ¡ï¼Œä½†å®ƒå¹¶ä¸æ˜¯å”¯ä¸€çš„æœåŠ¡ï¼Œåªè¦ä½ æœ‰æ„æ„¿ï¼Œä½ éƒ½å¯ä»¥æ­å»ºè‡ªå·±çš„ registryï¼Œç”šè‡³æ˜¯ä½¿ç”¨ç¬¬ä¸‰æ–¹çš„ registryï¼Œæ¯”å¦‚ [æ·˜å® NPM é•œåƒ](https://npm.taobao.org/)ï¼Œå®ƒä¹Ÿæœ‰è‡ªå·±çš„ cli - [cnpm cli](https://github.com/cnpm/cnpm)ï¼Œæ¯ä¸‰ååˆ†é’ŸåŒæ­¥ä¸€æ¬¡ï¼Œå¤§å®¶åœ¨å›½å†…å¦‚æœç½‘ç»œä¸é€šç•…ï¼Œå»ºè®®ä½¿ç”¨æ·˜å®é•œåƒä»£æ›¿ npm æ¥ä½œä¸ºæ¨¡å—ä¸‹è½½çš„æœåŠ¡ï¼Œä½¿ç”¨çš„åŠæ³•éå¸¸ç®€å•ï¼š

`npm i lodash@4.17.11 --registry=https://registry.npm.taobao.org`

æˆ–è€…é€šè¿‡ cnpm æ¥ä»£æ›¿ï¼š

```bash
npm install -g cnpm --registry=https://registry.npm.taobao.org
cnpm install lodash@4.17.11
```

å¤§å®¶å¦‚æœæƒ³ç»™è‡ªå·±å›¢é˜Ÿæ­å»ºç§æœ‰ registryï¼Œå¯ä»¥å‚è€ƒ [cnpmjs.org](https://github.com/cnpm/cnpmjs.org)ï¼Œæˆ‘æ›¾ç»ç»™å·¥ä½œè¿‡çš„å›¢é˜Ÿæ­å»ºè¿‡ 2 æ¬¡ï¼Œä¹Ÿéƒ½æŠ•å…¥ä½¿ç”¨äº†ä¸€æ®µæ—¶é—´ï¼ŒåŸºæœ¬ä¸Šæ˜¯æ»¡è¶³å›¢é˜Ÿéœ€æ±‚çš„ï¼Œä½†æ˜¯å¯¹äºæƒé™ç®¡ç†å’Œæˆå‘˜ç®¡ç†ä¸æ˜¯å¾ˆæ–¹ä¾¿ï¼ŒåŒæ—¶å®‰å…¨å’ŒæœåŠ¡æ–¹é¢ä¹Ÿä¸å¤Ÿå¼ºæ‚ï¼Œä¸€æ³¢å¤§æµé‡å¯èƒ½å°±ææŒ‚æœåŠ¡äº†ï¼Œé‚£è¿˜æœ‰åˆ«çš„æ–¹æ¡ˆä¹ˆï¼Œå½“ç„¶æ˜¯æœ‰çš„ã€‚

é™¤äº† npm å®˜æ–¹çš„ registry ä»˜è´¹ç§æœ‰æœåŠ¡ï¼Œç»™å¤§å®¶å®‰åˆ©ä¸€ä¸ªé˜¿é‡Œäº‘çš„ regsitryï¼Œé¦–å…ˆæ³¨å†Œä¸€ä¸ªé˜¿é‡Œäº‘è´¦å·ï¼Œç„¶åæ‰“å¼€ [Aliyun Registry](https://node.console.aliyun.com/registry/home)ï¼Œè¿›å»åï¼Œéšä¾¿åˆ›å»ºä¸€ä¸ª scope å°±å¯ä»¥ä½¿ç”¨äº†ï¼Œå¾…ä¼šæˆ‘ä»¬ä¼šæœ‰ä¸€ä¸ªä»£ç æ¡ˆä¾‹ï¼Œé‡Œé¢ä¼šæ¼”ç¤ºå¦‚ä½•å‘å¸ƒåˆ° Aliyun Registryã€‚


### åŒ…çš„åœ°å›¾ - npm init

`npm init` å¯ä»¥ç›´æ¥åˆ›å»ºä¸€ä¸ª package.jsonï¼Œåœ¨å®ƒé‡Œé¢ä¸»è¦è®°å½•äº†ï¼š

- å½“å‰æ¨¡å—/é¡¹ç›®åç§°ã€ç‰ˆæœ¬ã€æè¿°ã€ä½œè€…
- é…ç½®äº†å½“å‰é¡¹ç›®ä¾èµ–çš„æ¨¡å—åŠç‰ˆæœ¬
- é…ç½®äº†å½“å‰é¡¹ç›®æ˜¯åœ¨å“ªä¸ª git repo ä¸‹
- å½“å‰æ¨¡å—çš„ä¸»å…¥å£æ–‡ä»¶ main
- ...

æˆ‘ä»¬ä¹Ÿå¯ä»¥ `npm init --yes` å¯ä»¥ç›´æ¥åˆ›å»ºé»˜è®¤å€¼çš„ package.jsonã€‚

### åŒ…çš„å®‰è£… - npm install

æˆ‘ä»¬æœ€å¸¸ç”¨çš„ `npm install` é€šå¸¸ä¼šæ­é… --save å’Œ --save-dev æ¥ä½¿ç”¨ï¼Œåˆ†åˆ«æŠŠæ¨¡å—å®‰è£…åˆ° dependencies å’Œ devDependenciesï¼Œä¸€ä¸ªæ˜¯è¿è¡Œæ—¶ä¾èµ–çš„æ¨¡å—ï¼Œä¸€ä¸ªæ˜¯æœ¬åœ°å¼€å‘æ—¶ä¾èµ–çš„æ¨¡å—ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥ç®€å†™ï¼Œæ¯”å¦‚ `npm i xx -S` å’Œ `npm i xx -D`ï¼Œæˆ‘ä¸ªäººä¼šå»ºè®®å¤§å®¶åœ¨æœ¬åœ°å®‰è£…æ¨¡å—ï¼Œä¸€å®šè¦æŒ‡å®š --save æˆ–è€… -Sï¼Œæ¥ç¡®ä¿æœ¬åœ°æ¨¡å—æ­£ç¡®çš„æ·»åŠ åˆ° package.jsonï¼Œé‚£ä¹ˆå…·ä½“ install éƒ½æ”¯æŒå“ªäº›ç±»å‹çš„æ¨¡å—å‘¢ï¼Œå…¶å®æˆ‘ä»¬å¯ä»¥é€šè¿‡ `npm help install` æ‰¾åˆ°ç­”æ¡ˆï¼š

```bash
~ npm help install
# é¡¹ç›®ä¸­å·²æœ‰ package.jsonï¼Œå¯ä»¥ç›´æ¥ npm intall å®‰è£…æ‰€æœ‰ä¾èµ–é¡¹
npm install (with no args, in package dir)
# scope é€šå¸¸ç”¨äºç®¡ç†ç§æœ‰æ¨¡å—ï¼Œä»¥ @ å¼€å¤´ï¼Œæ²¡æœ‰ @ åˆ™åä¹‹
# npm install some-pkg
# npm install @scott/some-pkg
npm install [<@scope>/]<name>
# å¯ä»¥å®‰è£…ç‰¹å®š tag çš„æ¨¡å—ï¼Œé»˜è®¤æ˜¯ latestï¼Œå¦‚ï¼š
# npm install lodash@latest
npm install [<@scope>/]<name>@<tag>
# npm install lodash@4.17.11
# npm install @scott/some-pkg@1.0.0
npm install [<@scope>/]<name>@<version>
# å®‰è£…ä¸€ä¸ªæŸä¸ªèŒƒå›´å†…çš„ç‰ˆæœ¬
# npm install lodash@">=2.0.0 <3.0.0"
# npm install @scott/som-pkg@">=2.0.0 <3.0.0"
npm install [<@scope>/]<name>@<version range>
# npm install git+ssh://git@github.com:tj/commander.js.git
npm install <git-host>:<git-user>/<repo-name>
# ä»¥ git ä»“åº“åœ°å€æ¥å®‰è£…
# npm install https://github.com/petkaantonov/bluebird.git
npm install <git repo url>
# å®‰è£…æœ¬åœ°çš„ tar åŒ…
# npm install /Users/black/Downloads/request-2.88.1.tar.gz
npm install <tarball file>
# ä»¥ tar åŒ…åœ°å€æ¥å®‰è£…
# npm install https://github.com/caolan/async/tarball/v2.3.0
# npm install https://github.com/koajs/koa/archive/2.5.3.tar.gz
npm install <tarball url>
# ä»æœ¬åœ°æ–‡ä»¶å¤¹å®‰è£…
# npm install ../scott/some-module
npm install <folder>
# å¸è½½ä¹Ÿå¾ˆç®€å•
npm uninstall some-pkg -S
# æˆ–è€…ç®€å†™ï¼ŒåŠ ä¸Š -S æ˜¯æŠŠå¸è½½ä¹ŸåŒæ­¥åˆ° package.json ä¸­
npm un some-pkg -S
```

npm æœ‰å¦‚æ­¤å¤šæ ·çš„å®‰è£…æ–¹å¼ï¼Œç»™äº†æˆ‘ä»¬å¾ˆå¤šæƒ³è±¡åŠ›ï¼Œæ¯”å¦‚åœ¨å¼ºè¿ç»´å¤§é‡æœåŠ¡å™¨å­˜å‚¨ä¿éšœçš„å‰æä¸‹ï¼Œå¯ä»¥æŠŠæ‰€æœ‰çš„æ¨¡å—å…¨éƒ¨ tarball å½¢å¼ä»æœ¬åœ°ä¸Šä¼ åˆ°æœåŠ¡å™¨ï¼Œå¯ä»¥ä¿è¯æ‰€æœ‰æ¨¡å—ä»£ç çš„ç»å¯¹ä¸€è‡´æ€§ï¼Œç”šè‡³ npm registry ä¸ç¨³å®šçš„æ—¶å€™ä¹Ÿä¸å½±å“ï¼Œæ›´ä¸ç”¨æç§æœ‰æ¨¡å— scope çš„ç»„åˆä½¿ç”¨ã€‚

æŠ›å¼€ npm å¸¦æ¥çš„ä¾¿æ·ï¼Œåè¿‡æ¥çš„ä¸€ä¸ªé—®é¢˜å°±æ˜¯æ¨¡å—çš„ç‰ˆæœ¬ç®¡ç†ï¼Œæ€æ ·ä¿è¯æˆ‘æœ¬åœ°å®‰è£…çš„ç‰ˆæœ¬ï¼Œè·ŸæœåŠ¡å™¨ä¸Šè¿è¡Œçš„ç‰ˆæœ¬ï¼Œä¸¤ä»½ä»£ç æ˜¯ä¸€æ¨¡ä¸€æ ·çš„ï¼Œå…³äºè¿™ä¸€ç‚¹æˆ‘ä»¬å…ˆå¾€ä¸‹çœ‹ï¼Œäº†è§£ `npm versions` åå†æ¥è®¨è®ºç‰ˆæœ¬çš„ç®¡ç†é—®é¢˜ã€‚

### åŒ…ç‰ˆæœ¬ - npm semver version

åªè¦ä¸€ä¸ªæ–‡ä»¶å¤¹é‡Œé¢æœ‰ package.jsonï¼Œé‡Œé¢çš„åŸºæœ¬ä¿¡æ¯å®Œå¤‡ï¼Œæ— è®ºé‡Œé¢æœ‰å¤šå°‘ä¸ª js æ¨¡å—ï¼Œæ•´ä¸ªæ–‡ä»¶å¤¹ä¾¿å¯ä»¥çœ‹åšæ˜¯åŒ…ï¼Œæˆ‘ä»¬æ‰€è°“çš„ npm - åŒ…ç®¡ç†å·¥å…·ï¼Œå…¶å®æœ¬è´¨ä¸Šå°±æ˜¯ç®¡ç†è¿™ä¸ªæ–‡ä»¶å¤¹çš„ç‰ˆæœ¬ï¼Œå°†å‡ åä¸Šç™¾ä¸ªç”šè‡³ä¸Šåƒä¸ªé¡¹ç›®æ‰€ä¾èµ–çš„åŒ…ï¼Œå…¨éƒ¨ä¸‹è½½åˆ°æœ¬åœ°ï¼Œå…¨éƒ¨æ•´ç†åˆ° node_modules ä¸‹é¢ç®¡ç†ï¼Œæ¯ä¸ªåŒ…éƒ½æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„æ–‡ä»¶å¤¹ï¼Œæ¯”å¦‚å®‰è£…äº† bluebird å’Œ lodash çš„é¡¹ç›®ï¼Œpackage.json çš„ä¾èµ–æ˜¯è¿™æ ·çš„ï¼š

```json
"dependencies": {
  "bluebird": "^3.5.2",
  "lodash": "^4.17.11"
}
```

è€Œåœ¨ node_modules é‡Œé¢æ˜¯è¿™æ ·çš„ï¼š

```bash
npm tree -L 2
.
â”œâ”€â”€ node_modules
â”‚Â Â  â”œâ”€â”€ bluebird
â”‚Â Â  â””â”€â”€ lodash
â”œâ”€â”€ package-lock.json
â””â”€â”€ package.json
```

æ¯ä¸ªæ–‡ä»¶å¤¹éƒ½æ˜¯ä¸€ä¸ª packageï¼ˆåŒ…ï¼‰ï¼Œæ¯ä¸ªåŒ…éƒ½æœ‰è‡ªå·±ä¾èµ–çš„å…¶ä»–åŒ…ï¼Œæ¯ä¸ªåŒ…ä¹Ÿéƒ½æœ‰è‡ªå·±çš„åç§°å’Œç‰ˆæœ¬ï¼Œæ¯ä¸ªåŒ…ä½œè€…å¯¹äºç‰ˆæœ¬çš„ç®¡ç†éƒ½ä¸å°½ç›¸åŒï¼Œæœ‰ä¾èµ–å¤§ç‰ˆæœ¬çš„ï¼Œæœ‰ä¾èµ–å°ç‰ˆæœ¬çš„ï¼Œæœ‰å¥‡æ•°å¶æ•°ç­–ç•¥çš„ç­‰ç­‰ï¼Œæˆ‘ä»¬è¯´ä¸‹ä¸šç•Œæœ€å¸¸è§çš„ä¸€ç§ç‰ˆæœ¬ç®¡ç†æ–¹å¼ï¼Œå°±æ˜¯ [Semantic Versioning 2.0.0](https://semver.org/)ï¼Œå¤§å®¶å¯ä»¥å‰å¾€ [semver.org](https://semver.org/) æŸ¥çœ‹è¯¦æƒ…ï¼Œè¿™é‡Œç®€å•è§£é‡Šä¸‹ï¼Œç‰ˆæœ¬å·æ¯”å¦‚ v4.5.1ï¼Œv æ˜¯ version çš„ç¼©å†™ï¼Œ4.5.1 è¢« `.` åˆ†å¼€æˆä¸‰ç«¯ï¼Œè¿™ä¸‰ç«¯åˆ†åˆ«æ˜¯ï¼š`major` `minor` `patch`ï¼Œä¹Ÿå°±æ˜¯ ä¸»ç‰ˆæœ¬å·.æ¬¡ç‰ˆæœ¬å·.ä¿®è®¢å·ï¼š

- major: breaking changes (åšäº†ä¸å…¼å®¹çš„ API ä¿®æ”¹)
- minor: feature addï¼ˆå‘ä¸‹å…¼å®¹çš„åŠŸèƒ½æ€§æ–°å¢ï¼‰
- patch: bug fix, docsï¼ˆå‘ä¸‹å…¼å®¹çš„é—®é¢˜ä¿®æ­£ï¼‰

æ‰€ä»¥æ‹¿ lodash@4.17.11 ä¸¾ä¾‹ï¼ˆä¸ä¸€å®šå‡†ç¡®ï¼Œä»…ç¤ºä¾‹ï¼‰ï¼Œ4 ä»£è¡¨ä¸»ç‰ˆæœ¬ï¼Œ17 å°±æ˜¯æ¬¡ç‰ˆæœ¬ï¼Œ11 å°±æ˜¯ä¿®è®¢å·ï¼Œå¦‚æœæ¯ä¸€ä¸ªå˜åŠ¨éƒ½ä¸¥æ ¼éµå®ˆï¼Œä¸”æ¯æ¬¡éƒ½æ˜¯ +1 çš„è¯ï¼Œå¯ä»¥è¿™æ ·ç†è§£ï¼šlodash ç»å†äº† 3 æ¬¡å¤§çš„æ–­ä»£æ›´æ–°ï¼Œä¹Ÿå³ä» 1 åˆ° 4ï¼ŒåŒæ—¶åœ¨ 4 çš„å¤§ç‰ˆæœ¬ä¸Šï¼Œç»å†äº† 17 æ¬¡çš„åŠŸèƒ½æ›´æ–°ï¼Œå¹¶ä¸”å‘ä¸‹å…¼å®¹ï¼Œè‡³äº bug ä¿®å¤ä¹‹ç±»ä¹Ÿæœ‰ 11 æ¬¡ï¼Œæ¯ä¸ªåŒ…å®é™…æ‰§è¡Œå¹¶ä¸ä¸€å®šä¸¥æ ¼éµå®ˆè¿™ç§è¯­ä¹‰åŒ–ç‰ˆæœ¬è§„èŒƒï¼Œæ‰€ä»¥ä¹Ÿä¼šå¸¦æ¥ä¸€äº›ç®¡ç†å›°æ‰°ï¼Œä½†çœŸæ­£çš„å›°æ‰°æˆ‘ä»¬çš„åè€Œä¸æ˜¯ç‰ˆæœ¬å·æœ¬èº«ï¼Œè€Œæ˜¯åŒ…ä¸åŒ…ä¹‹é—´çš„ä¾èµ–å…³ç³»ï¼Œä»¥åŠåŒ…è‡ªèº«çš„ç‰ˆæœ¬ç¨³å®šæ€§ï¼ˆèƒŒåçš„ä»£ç ç¨³å®šæ€§ï¼‰ï¼Œæ¯”å¦‚è¿™æ˜¯æˆ‘ 4 å¹´å‰æœ¬åœ°çš„ä¸€ä¸ªé¡¹ç›®ï¼Œå®ƒçš„ç‰ˆæœ¬å·æ˜¯è¿™æ ·å­çš„ï¼š

```bash
"dependencies": {
  "async": "~0.2.10",
  "bcrypt": "~0.7.8",
  "connect-mongo": "~0.3.3",
  "crypto": "~0.0.3",
  "express": "~3.4.8",
  "grunt": "~0.4.5",
  "grunt-concurrent": "~0.4.3",
  "grunt-contrib-jshint": "~0.10.0",
  "grunt-contrib-less": "~0.11.4",
  "grunt-contrib-uglify": "~0.5.1",
  "grunt-contrib-watch": "~0.6.1",
  "grunt-mocha-test": "~0.11.0",
  "grunt-nodemon": "~0.1.2",
  "jade": "~1.3.0",
  "moment": "~2.5.1",
  "mongoose": "~3.8.14",
  "underscore": "~1.6.0",
  "should": "^4.0.4"
}
```

é‚£æ—¶å€™è¿˜æ˜¯ grunt å…¨å®¶æ¡¶ï¼Œåªè¦ grunt çš„ä¸»ç‰ˆæœ¬å‘ç”Ÿå¤§å˜åŒ–ï¼Œé‚£ä¹ˆå®ƒçš„æ’ä»¶ï¼Œå°±æœ‰å¯èƒ½è·‘ä¸èµ·æ¥ï¼Œæ¯æ¬¡å‡çº§å…‰å¼„æ’ä»¶ç‰ˆæœ¬çš„å…¼å®¹æ€§ï¼Œå°±è¦æŠ˜è…¾åŠæ­»ï¼Œè¿™æ”¾åˆ°ç°åœ¨ï¼Œå¯¹äº react-native æˆ–è€… ä¾èµ– Babel åŠå®ƒçš„å„ç§æ’ä»¶çš„é¡¹ç›®ä¸­ï¼Œç‰ˆæœ¬ä¹‹é—´çš„å…¼å®¹æ€§ç®¡ç†éƒ½ä¾ç„¶æ˜¯å®¹æ˜“å‡ºé—®é¢˜çš„åœ°æ–¹ï¼ŒNode ç¤¾åŒºä¹Ÿé’ˆå¯¹ç‰ˆæœ¬ç®¡ç†ï¼Œæœ‰å¤§é‡çš„è®¨è®ºï¼ŒåŒ…æ‹¬æœ‰ä¸€äº›å·¥å…·çš„äº§å‡ºï¼Œæ¯”å¦‚ facebook å¼€æºçš„ [Yarn](https://yarnpkg.com/zh-Hans/) å°±æ˜¯ npm å¼ºæœ‰åŠ›çš„ä¸€ä¸ªç«äº‰å¯¹æ‰‹ï¼Œnpm ä¹Ÿç»å†äº†å‡ æ¬¡å¤§çš„å‡çº§ï¼Œç›´åˆ°ç°åœ¨çš„ v6.x.xï¼Œé‚£ä¹ˆå…³äº npm çš„åŒ…ç‰ˆæœ¬ç­–ç•¥ï¼Œæˆ‘ä»¬æ”¾åˆ°é”åŒ… - `npm shrinkwrap` å†æ¥æ¢è®¨ã€‚

### åŒ…ç›®å½•å±‚çº§ - npm node_modules

åœ¨ npm çš„å‡çº§å†å²ä¸­ï¼Œæœ‰è¿™æ ·çš„ä¸€ä¸ªé‡å¤§çš„å˜åŒ–ï¼Œé‚£å°±æ˜¯ node_module æ˜¯åŒ…ä¾èµ–å®‰è£…å±‚çº§ï¼Œä¹Ÿå°±æ˜¯ npm2 æ—¶ä»£å’Œ npm3+ æ—¶ä»£ï¼Œåœ¨ npm2 æ—¶ä»£ï¼Œä¸€ä¸ªé¡¹ç›®çš„ node_modules ç›®å½•æ˜¯é€’å½’å®‰è£…çš„ï¼Œå®ƒæ˜¯æŒ‰ç…§ä¾èµ–å…³ç³»è¿›è¡Œæ–‡ä»¶å¤¹çš„åµŒå¥—ï¼Œæ¯”å¦‚ï¼š

```bash
~ tree -L 4
.
â”œâ”€â”€ connect-mongo
â”‚Â Â  â”œâ”€â”€ node_modules
â”‚Â Â  â”‚Â Â  â””â”€â”€ mongodb
â”‚Â Â  â”‚Â Â      â”œâ”€â”€ node_modules
â”œâ”€â”€ mongoose
â”‚Â Â  â”œâ”€â”€ node_modules
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ mongodb
â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ node_modules
â”‚Â Â  â”‚Â Â  â””â”€â”€ sliced
â”œâ”€â”€ async
â”œâ”€â”€ grunt
â”‚Â Â  â”œâ”€â”€ node_modules
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ async
â”‚Â Â  â”‚Â Â  â””â”€â”€ which
â””â”€â”€ underscore
```

å†æ¥çœ‹ä¸‹ `lodash` å’Œ `request`ï¼š

```
~ tree -L 8
.
â”œâ”€â”€ bluebird
â””â”€â”€ request
    â”œâ”€â”€ node_modules
    â”‚Â Â  â”œâ”€â”€ har-validator
    â”‚Â Â  â”‚Â Â  â”œâ”€â”€ node_modules
    â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ ajv
    â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ node_modules
    â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ co
    â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ json-schema-traverse
    â”‚Â Â  â”œâ”€â”€ http-signature
    â”‚Â Â  â”‚Â Â  â”œâ”€â”€ node_modules
    â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ sshpk
    â”‚Â Â  â”‚Â Â  â”‚Â Â      â”œâ”€â”€ node_modules
    â”‚Â Â  â”‚Â Â  â”‚Â Â      â”‚Â Â  â””â”€â”€ tweetnacl
    â”‚Â Â  â””â”€â”€ uuid
    â””â”€â”€ request.js
```

ä»å†…å¿ƒæ·±å¤„ï¼Œæˆ‘ä¸ªäººè¿˜æ˜¯å¾ˆå–œæ¬¢è¿™ä¸ªæ—¶ä»£çš„ npm çš„ï¼Œå› ä¸ºé€šå¸¸ä¸€ä¸ªé¡¹ç›®ä¾èµ–ä¸‰å››åä¸ªåŒ…å°±ç®—æ¯”è¾ƒå¤šäº†ï¼Œåœ¨ node_modules é‡Œé¢ï¼Œä¹Ÿå°±ä¸‰å››åä¸ªç›®å½•ï¼Œè¿›å»æ‰¾ä¸€ä¸ªåŒ…çš„æºä»£ç ï¼Œæˆ–è€…å»å®ƒçš„ node_modules é‡Œç»§ç»­å‘ä¸‹æ‰¾ï¼Œä¼šéå¸¸çœäº‹ï¼Œå°¤å…¶æ˜¯å½“æˆ‘å» review æºç å»æŸ¥æ‰¾å…³é”®å­—çš„æ—¶å€™ï¼Œä½†å®ƒçš„ç¼ºç‚¹ä¹Ÿæœ‰å¾ˆå¤šï¼Œæ¯”å¦‚åµŒå¥—å¯èƒ½ä¼šå‡ºç°å¾ˆæ·±çš„æƒ…å†µï¼Œä¼šé‡åˆ° windows çš„æ–‡ä»¶è·¯å¾„é•¿åº¦é™åˆ¶ï¼Œå½“ç„¶æœ€æ•æ„Ÿçš„æ˜¯ï¼Œä¼šå¯¼è‡´å¤§é‡çš„ä»£ç å†—ä½™ï¼Œæ¯”å¦‚æˆ‘ä»¬ä¸Šé¢ï¼Œ`connect-mongo` å’Œ `mongoose` é‡Œé¢éƒ½ç”¨åˆ° `mongodb`ï¼Œ`grunt` é‡Œé¢ä¹Ÿç”¨åˆ°äº† `async` ç­‰ç­‰ï¼Œè¿™ä¼šå¯¼è‡´æ•´ä¸ªé¡¹ç›®ä½“ç§¯ç‰¹åˆ«çš„è‡ƒè‚¿ã€‚

æ‰€å¹¸æ˜¯ npm3 æ—¶ä»£é‡Œé¢ç­–ç•¥æ”¹æˆäº†å¹³é“ºç»“æ„ï¼Œå…¨éƒ¨ä¸€è‚¡è„‘å¹³é“ºåˆ° node_modules ä¸‹é¢ï¼Œæ¯”å¦‚ `lodash` å’Œ `request` å°±å˜æˆäº†ï¼š

```bash
âœ  node_modules tree -L 1
.
â”œâ”€â”€ ajv
â”œâ”€â”€ asn1
â”œâ”€â”€ assert-plus
â”œâ”€â”€ asynckit
â”œâ”€â”€ aws-sign2
â”œâ”€â”€ aws4
â”œâ”€â”€ bcrypt-pbkdf
â”œâ”€â”€ bluebird
â”œâ”€â”€ caseless
â”œâ”€â”€ co
â”œâ”€â”€ combined-stream
â”œâ”€â”€ delayed-stream
â”œâ”€â”€ fast-deep-equal
â”œâ”€â”€ fast-json-stable-stringify
â”œâ”€â”€ forever-agent
â”œâ”€â”€ form-data
â”œâ”€â”€ uuid
â””â”€â”€ ...çœç•¥å‰©ä¸‹ 20 ä¸ª
```
ä½†æ˜¯è¦æ³¨æ„ï¼Œæ–°çš„ npm å¹¶ä¸ä¼šæ— è„‘çš„å¹³é“ºï¼Œè€Œæ˜¯ä¼šæœ‰ä¸€å¥—ç®—æ³•æ¥åšåŒåä¸”åŒç‰ˆæœ¬çš„åŒ…å»é‡ï¼Œåˆç†è§„åˆ’ç›®å½•çš„åµŒå¥—å±‚çº§ï¼Œè¿™æ ·å¯ä»¥ä¿è¯å³ä¾¿æ˜¯æœ‰åŒåä½†æ˜¯ç‰ˆæœ¬ä¸åŒçš„æ¨¡å—ï¼Œä¸ä¼šåœ¨ node_modules é‡Œé¢å†²çªï¼ŒåŒæ—¶åªè¦ä¸åœ¨åŒçº§å†²çªï¼Œnpm ä¼šå°½å¯èƒ½æŠŠèƒ½å¤ç”¨çš„æ¨¡å—å¾€é«˜å±‚çº§å®‰è£…ï¼Œè¿™æ ·å¯ä»¥è¾¾åˆ°æœ€å¤§ç¨‹åº¦çš„æ¨¡å—é‡ç”¨ï¼Œä»£ç å†—ä½™å°±å¤§å¹…é™ä½ï¼Œæˆ‘æ‹¿ä¸€ä¸ªæ—§é¡¹ç›®æµ‹è¯•äº†ä¸‹ï¼Œnpm2 å®‰è£…åæ˜¯ 80MB çš„ä½“ç§¯ï¼Œè€Œç”¨ npm3 å®‰è£…åï¼Œnode_modules çš„ä½“ç§¯é™ä½åˆ°äº† 68MBï¼Œç›´é™ 15%ï¼Œè¶Šå¤§è¶Šå¤æ‚çš„é¡¹ç›®ï¼Œæ–°çš„å®‰è£…ç­–ç•¥åº”è¯¥èƒ½å¸¦æ¥æ›´å¤§çš„ä½“ç§¯èŠ‚çœã€‚

### é”åŒ… - npm shrinkwrap

é™¤äº†å®‰è£…ç­–ç•¥å¤–ï¼Œnpm å¦å¤–ä¸€ä¸ªé‡å¤§çš„å‡çº§ï¼Œå°±æ˜¯æˆ‘ä»¬ç†Ÿæ‚‰çš„ package-lock æ–‡ä»¶ï¼Œè¿™æ˜¯ npm5 ä»¥åå¸¦æ¥çš„æ–°ç‰¹æ€§ï¼Œpackage-lockï¼Œé¡¾åæ€ä¹‰ï¼Œå°±æ˜¯æŠŠåŒ…çš„ç‰ˆæœ¬é”ä½ï¼Œä¿è¯å®ƒçš„ä»£ç æ¯ä¸€è¡Œæ¯ä¸€ä¸ªå­—èŠ‚éƒ½æ’ä¹…ä¸å˜ï¼Œä¸ºä»€ä¹ˆéœ€è¦è¿™æ ·ä¸€ç§çœ‹ä¸Šå»å¥‡è‘©çš„ç­–ç•¥ï¼Œæˆ‘ä»¬è¿˜å¾—ç»“åˆä¸Šé¢çš„ `Semantic Versioning` ä¹Ÿå°±æ˜¯åŒ…çš„è¯­ä¹‰åŒ–ç‰ˆæœ¬æ¥è¯´äº‹ã€‚

åœ¨ä¸€ä¸ª package.json é‡Œçš„ dependencies é‡Œé¢ï¼ŒåŒ…çš„ä¾èµ–ç‰ˆæœ¬å¯ä»¥è¿™æ ·å†™ï¼š

```
"lodash": "~3.9.0",
"lodash": "^3.9.0",
"lodash": ">3.9.0",
"lodash": ">=1.0.0-rc.2",
"lodash": "*"
// ... æ›´å¤šå†™æ³•ä¸å†åˆ—ä¸¾
```

æœ€å¸¸è§çš„å°±æ˜¯ `~` å’Œ `^` è¿™ä¸¤ç§å†™æ³•ï¼Œå®ƒä¿©æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Œ`~` æ„æ€æ˜¯ï¼Œé€‰æ‹©ä¸€ä¸ªæœ€è¿‘çš„å°ç‰ˆæœ¬ä¾èµ–åŒ…ï¼Œæ¯”å¦‚ `~3.9.0` å¯ä»¥åŒ¹é…åˆ°æ‰€æœ‰çš„ 3.9.x ç‰ˆæœ¬ï¼Œä½†æ˜¯ä¸ä¼šåŒ¹é…åˆ° 3.10.0ï¼Œè€Œ `^` åˆ™æ˜¯åŒ¹é…æœ€æ–°çš„å¤§ç‰ˆæœ¬ï¼Œæ¯”å¦‚ `^3.9.0` å¯ä»¥åŒ¹é…åˆ°æ‰€æœ‰çš„ 3.x.xï¼Œä½†æ˜¯ä¸ä¼šåŒ¹é…åˆ° 4.0.0ã€‚

ä»–ä»¬çš„å¥½å¤„å¾ˆæ˜æ˜¾ï¼Œå°±æ˜¯å½“ä¸€ä¸ªåŒ…æœ‰ä¸€äº› bugï¼Œ ä½œè€…ä¿®å¤ä¹‹åï¼Œä¸éœ€è¦æˆ‘ä»¬å¼€å‘è€…ä¸»åŠ¨åˆ° package.json é‡Œï¼Œä¸€ä¸ªä¸ªçš„ä¿®æ”¹è¿‡å»ï¼Œäº‹å®ä¸Šæˆ‘ä»¬å¼€å‘è€…ä¹Ÿæ— ä»çŸ¥æ™“ä½œè€…ä»€ä¹ˆæ—¶å€™å‡çº§äº†åŒ…ï¼Œç”šè‡³æˆ‘ä»¬éƒ½ä¸çŸ¥é“é‡Œé¢æœ‰æ²¡æœ‰ bugï¼Œæ‰€ä»¥ä¾é  `~` å’Œ `^`ï¼Œå®ƒå°±èƒ½è‡ªåŠ¨æ™‹å‡åˆ°è¾ƒæ–°ç‰ˆæœ¬çš„åŒ…ï¼Œé‡Œé¢åŒ…å«äº†æœ€æ–°çš„ä»£ç ï¼Œåªä¸è¿‡ `^` æ¯” `~` æ›´åŠ æ¿€è¿›ï¼Œå¯èƒ½ä¼šå¯¼è‡´æ–°åŒ…ä¸é¡¹ç›®çš„ä¸å…¼å®¹ï¼Œè€Œ `~` ä¼šå‹å¥½å¾ˆå¤šï¼Œä½†ä¹Ÿä¸èƒ½ä¿è¯ 100% çš„å…¼å®¹ï¼Œå› ä¸ºæ‰€æœ‰çš„åŒ…ç‰ˆæœ¬éƒ½æ˜¯åŒ…ä½œè€…è‡ªè¡Œç®¡ç†çš„ï¼Œä½œè€…çš„æŠ€æœ¯å®åŠ›å’Œç‰ˆæœ¬æ„è¯†ä¹Ÿæ˜¯æœ‰é™çš„ï¼Œå®ƒè¿™æ¬¡å‡çº§ä¼šä¸ä¼šå¯¼è‡´ä½ çš„é¡¹ç›®å‡ºç°é—®é¢˜ï¼Œæˆ‘ä»¬å¿ƒé‡Œæ˜¯æ²¡åº•çš„ã€‚

äºæ˜¯åƒå¤éš¾é¢˜å‡ºç°äº†ï¼Œæˆ‘ä»¬æ—¢æƒ³äº«å—é™é»˜å‡çº§çš„å¥½å¤„ï¼Œåˆè¦é¿å…é™é»˜å‡çº§èƒŒååŒ…ä»£ç çš„ä¸å…¼å®¹æ€§ï¼Œè¿™ä¸¤ä¸ªå®é™…ä¸Šæ˜¯å†²çªçš„ï¼Œé™é»˜å‡çº§ä¸€å®šä¼šå¸¦æ¥ä»£ç å˜åŠ¨ï¼Œä»£ç å˜åŠ¨ä¸€å®šä¼šå¸¦æ¥å…¼å®¹é£é™©ï¼Œè€Œä¸”ï¼Œå°±ç®—æ˜¯æˆ‘ä»¬æŠŠç‰ˆæœ¬å†™æ­»ä¸º 3.9.0ï¼Œä¹Ÿæ˜¯ä¸èƒ½ä¿è¯ 3.9.0 çš„è¿™ä¸ªåŒ…ï¼Œå®ƒè‡ªèº«åˆå‘ä¸‹ä¾èµ–çš„å¾ˆå¤šåˆ«çš„åŒ…ï¼Œè¿™äº›åˆ«çš„åŒ…åˆä¾èµ–äº†åˆ«çš„åŒ…ï¼Œä»–ä»¬çš„åŒ…ç­–ç•¥å¦‚æœæ˜¯è¯­ä¹‰åŒ–çš„ï¼Œç…§æ ·ä¼šå¸¦æ¥åŒ…ä¾èµ–æ ‘çš„ä¸ç¨³å®šï¼ˆä»»ä½•ä¸€ä¸ªåº•å±‚åŒ…ä»£ç æœ‰è¯­ä¹‰åŒ–å‡çº§ï¼‰ã€‚

æ‰€ä»¥ï¼Œè·¯è¢«å µæ­»äº†ï¼Œæ„å‘³ç€é™¤éæˆ‘ä»¬æŠŠæ•´ä¸ª node_modules ä¿å­˜åˆ°æœ¬åœ°ï¼Œä¸Šä¼ åˆ° git ä»“åº“ï¼Œå…¨é‡ä¸Šä¼ åˆ°æœåŠ¡å™¨ï¼Œæˆ‘ä»¬æ ¹æœ¬æ— æ³•ä¿è¯ä»£ç çš„ä¸å˜æ€§ï¼Œæ®æ·˜å®çš„å·¥ç¨‹å¸ˆè®²ï¼Œä»–ä»¬æŸæ®µæ—¶é—´ä¹Ÿç¡®å®æ˜¯è¿™ä¹ˆå¹²çš„ï¼Œå…¨åŒ…ä¸Šä¼ ï¼Œå…¨åŒ…å›æ»šï¼Œç²—æš´ä½†å®ç”¨ã€‚

é‚£ä¹ˆåˆ°åº•åº”è¯¥æ€ä¹ˆåŠå‘¢ï¼Œå¤§å®¶å¯èƒ½çŒœåˆ°äº†ï¼Œç­”æ¡ˆå°±æ˜¯ package-lock.jsonï¼Œä¹Ÿå°±æ˜¯ npm çš„é”åŒ…ã€‚

å¤§å®¶å¯ä»¥åœ¨æœ¬åœ°çš„ä¸€ä¸ªç©ºç›®å½•ä¸‹ï¼Œæ‰§è¡Œ `npm init --yes && npm i lodash async -S`ï¼Œç„¶åæˆ‘ä»¬æ¥çœ‹ä¸‹ package-lock.json é‡Œé¢çš„å†…å®¹ï¼š

```bash
{
  "name": "npm",
  "version": "1.0.0",
  "lockfileVersion": 1,
  "requires": true,
  "dependencies": {
    "async": {
      "version": "2.6.1",
      "resolved": "http://registry.npm.taobao.org/async/download/async-2.6.1.tgz",
      "integrity": "sha1-skWiPKcZMAROxT+kaqAKPofGphA=",
      "requires": {
        "lodash": "^4.17.10"
      }
    },
    "lodash": {
      "version": "4.17.11",
      "resolved": "http://registry.npm.taobao.org/lodash/download/lodash-4.17.11.tgz",
      "integrity": "sha1-s56mIp72B+zYniyN8SU2iRysm40="
    }
  }
}
```
version å°±æ˜¯åŒ…çš„å‡†ç¡®ç‰ˆæœ¬å·ï¼ˆæ— è¯­ä¹‰åŒ–çš„è·ƒè¿ï¼‰ï¼Œ resolved åˆ™æ˜¯ä¸€ä¸ªæ˜ç¡® tar åŒ…åœ°å€ï¼Œå®ƒæ˜¯å”¯ä¸€ä¸å˜çš„ï¼Œå¹¶ä¸”è¿˜æœ‰ integrity è¿™ä¸ªå†…å®¹ hash çš„å€¼ï¼Œä»–ä»¬ä¸‰ä¸ªå°±å†³å®šäº†è¿™ä¸ªåŒ…å‡†ç¡®èº«ä»½ä¿¡æ¯ï¼Œè¿™æ ·ç¬¬ä¸€ä¸ªé—®é¢˜å°±è§£å†³äº†ï¼Œé‚£å°±æ˜¯ç‰¹å®šç‰ˆæœ¬çš„åŒ…ä»£ç ä¸å˜æ€§ï¼Œç„¶åç¬¬äºŒä¸ªé—®é¢˜ï¼Œè¿™äº›åŒ…å‘ä¸‹ä¾èµ–çš„åŒ…å¦‚ä½•ä¸å˜ï¼Ÿ

è¿™ä¸ªæ˜¯é€šè¿‡æ¯ä¸ªåŒ…çš„ requires å­—æ®µå®ç°ï¼Œå®ƒå®é™…ä¸Šè·Ÿæ¯ä¸ªåŒ…çš„å†…éƒ¨ package.json çš„ dependencies é‡Œçš„åŒ…æ˜¯ä¸€ä¸€å¯¹åº”çš„ï¼Œæ‰€ä»¥åŒ…çš„ä¾èµ–å…³ç³»ä¹Ÿæœ‰äº†ï¼Œæ— è®ºåµŒå¥—å¤šå°‘å±‚çº§ï¼Œåœ¨ lock æ–‡ä»¶é‡Œé¢ï¼Œå®ƒéƒ½æœ‰ versionã€resolvedã€integrity æ¥ä¿è¯å•åŒ…ä¸å˜æ€§ï¼Œé‚£ä¹ˆæ•´åŒ…å°±ä¿è¯äº†ä»£ç ä¸å˜ï¼Œå¯ä»¥æŠŠ package-lock.json ç†è§£ä¸ºä¸€ä¸ªè¯¦ç»†æè¿°ä»£ç ç‰ˆæœ¬çš„å¿«ç…§æ–‡ä»¶ï¼Œå®ƒå‚¨å­˜äº† node_modules å½“å‰çš„åŒ…ä»£ç çŠ¶æ€ï¼Œæ— è®ºè¢«å“ªä¸ªå›¢é˜Ÿæˆå‘˜æ‹¿èµ°é¡¹ç›®ï¼Œæ— è®ºæ˜¯æœ¬åœ°è¿˜æ˜¯æœåŠ¡å™¨ä¸Š npm installï¼Œéƒ½èƒ½ä¾æ® package-lock.json é‡Œé¢çš„åŒ…çŠ¶æ€ï¼ŒåŸå°ä¸åŠ¨çš„å¤åŸ node_modules é‡Œé¢çš„ä»£ç ç‰ˆæœ¬ã€‚

è¿™ä¸ªå°±æ˜¯é”åŒ…åŠŸèƒ½ï¼Œå…¶å®åœ¨ npm5 ä¹‹å‰å°±æä¾›äº†ï¼Œä¹Ÿå°±æ˜¯ npm shrinkwrapï¼Œå®ƒéœ€è¦æ‰‹åŠ¨æ‰§è¡Œï¼Œè€Œç°åœ¨åˆ™æ˜¯è‡ªåŠ¨ç”Ÿæˆã€‚

å¦‚æœä½ å®Œå…¨ä¸ä¾èµ–é”åŒ…åŠŸèƒ½ï¼Œåˆ™å¯ä»¥å°†å®ƒå…³é—­ï¼š `npm config set package-lock false`


### åŒ…è„šæœ¬ - npm scripts

npm æœ€å¼ºå¤§çš„èƒ½åŠ›ï¼Œé™¤äº† install å®‰è£…èƒ½åŠ›ï¼Œå°±æ˜¯è„šæœ¬èƒ½åŠ›ï¼Œåœ¨ package.json é‡Œçš„ scripts é‡Œé…ç½®çš„å„ç§ä»»åŠ¡ï¼Œéƒ½å¯ä»¥è¿™æ ·ç›´æ¥è°ƒç”¨ï¼š

```bash
npm start
npm run dev
npm run egg:prod
```
ç»“åˆ npm ç¤¾åŒºæµ·é‡çš„åŒ…èµ„æºï¼Œè·¨å¹³å°æ‰§è¡Œä¹Ÿå®Œå…¨æ²¡æœ‰é—®é¢˜ï¼Œæ¯”å¦‚ `rm -rf` åœ¨ windows ä¸‹ä¸æ”¯æŒï¼Œæˆ–è€…è€ƒè™‘æ”¯æŒ windows/linux éƒ½å¯ä»¥è®¾ç½®ç¯å¢ƒå˜é‡ï¼Œéƒ½å¯ä»¥æ¢ä¸€ä¸ªæ¨¡å—æ¥æ‰§è¡Œï¼Œæ¯”å¦‚ï¼š

```bash
"scripts": {
  "build": "npm run build:prod",
  "clean:dist": "rimraf ./dist",
  "build:prod": "cross-env NODE_ENV=production webpack"
}

# å¦‚ä¸‹å‘½ä»¤è¡Œå‡å¯æ‰§è¡Œ
âœ  npm run clean:dist
âœ  npm run build:prod
âœ  npm run build
```

npm scripts å¦‚æ­¤ä¹‹å¼ºå¤§ï¼Œç”šè‡³ç›´æ¥æ›¿æ¢å†å²äº§ç‰© grunt/gulpï¼Œå°¤å…¶æ˜¯å¤„ç†ä¸€äº›æ„å»ºé¢„å‡†å¤‡å·¥ä½œæˆ–æ„å»ºåä»»åŠ¡ï¼Œæ¯”å¦‚å…ˆæ£€æŸ¥ä»£ç è§„èŒƒï¼Œå†è·‘å•å…ƒæµ‹è¯•ï¼Œæœ€åè·‘æ„å»ºï¼Œæ„å»ºæˆåŠŸäº†å°±å‘ä¸€ä¸ªé’‰é’‰é€šçŸ¥åˆ°å›¢é˜Ÿç­‰ç­‰ï¼Œè¿™äº›ä»»åŠ¡å¯èƒ½æ˜¯çº§è”å…³ç³»ä¹Ÿå¯èƒ½æ˜¯å¹¶è¡Œå…³ç³»ï¼Œåœ¨ npm scripts é‡Œé¢ä¹Ÿè½»æ¾æå®šï¼Œæ¯”å¦‚ï¼š

```bash
"scripts": {
  // é€šè¿‡ && åˆ†éš”ï¼Œå¦‚æœ clean:dist ä»»åŠ¡å¤±è´¥ï¼Œåˆ™ä¸ä¼šæ‰§è¡Œåé¢çš„æ„å»ºä»»åŠ¡
  "build:task1": "npm run clean:dist && npm run build:prod"
  // é€šè¿‡ ; åˆ†éš”ï¼Œæ— è®º clean:dist æ˜¯å¦æˆåŠŸï¼Œè¿è¡Œåéƒ½ç»§ç»­æ‰§è¡Œåé¢çš„æ„å»ºä»»åŠ¡
  "build:task2": "npm run clean:dist;npm run build:prod"
  // é€šè¿‡ || åˆ†éš”ï¼Œåªæœ‰å½“ clean:dist å¤±è´¥ï¼Œæ‰ä¼šç»§ç»­æ‰§è¡Œåé¢çš„æ„å»ºä»»åŠ¡
  "build:task3": "npm run clean:dist;npm run build:prod"
  "clean:dist": "rimraf ./dist",
  "build:prod": "cross-env NODE_ENV=production webpack",
  // å¯¹ä¸€ä¸ªå‘½ä»¤ä¼ é…ç½®å‚æ•°ï¼Œå¯ä»¥é€šè¿‡ -- --prod
  // æ¯”å¦‚ npm run compile:prod ç›¸å½“äºæ‰§è¡Œ node ./r.js --prod
  "compile:prod": "npm run compile -- --prod",
  "compile": "node ./r.js",
}
```

é€šè¿‡ä¸Šé¢çš„æ¡ˆä¾‹ï¼Œæˆ‘ä»¬å¯ä»¥å‘ç°ï¼Œnpm scripts å¯ä»¥æ„å»ºéå¸¸å¤æ‚çš„ä»»åŠ¡ï¼Œæ˜é‡‘å°å†Œä¸Šæœ‰è€å¸ˆä¸“é—¨è®²æ‰“é€ è¶…æºœçš„ npm scripts å·¥ä½œæµï¼Œå¤§å®¶å¯ä»¥å‰å¾€å­¦ä¹ ï¼Œä¸è¿‡ npm scripts ä¹Ÿä¼šå¸¦æ¥ä¸€äº›é—®é¢˜ï¼Œæ¯”å¦‚éå¸¸å¤æ‚çš„ scripts ä¼šå¸¦æ¥éå¸¸å¤æ‚çš„ä¾èµ–é˜Ÿåˆ—ï¼Œä¸å¥½ç»´æŠ¤ï¼Œé’ˆå¯¹è¿™ä¸€ç‚¹ï¼Œå»ºè®®æŠŠæ¯ä¸ªç‹¬ç«‹çš„ä»»åŠ¡éƒ½åˆ†æ‹†å¼€è¿›è¡Œç»„åˆï¼Œå¯ä»¥æŠŠå¤æ‚çš„ä»»åŠ¡ç‹¬ç«‹å†™å…¥åˆ°ä¸€ä¸ªæœ¬åœ°çš„è„šæœ¬ä¸­ï¼Œæ¯”å¦‚ task.jsã€‚

å¦‚æœéœ€è¦åº•å±‚ç³»ç»Ÿå‘½ä»¤æ”¯æ’‘ï¼Œåˆå®åœ¨æ‰¾ä¸åˆ°è·¨å¹³å°çš„åŒ…ï¼Œä¹Ÿå¯ä»¥åœ¨å®ƒé‡Œé¢ï¼Œä½¿ç”¨ shelljs æ¥è°ƒç”¨ç³»ç»Ÿå‘½ä»¤ï¼Œç”šè‡³ä¸ä»…ä»…å±€é™äº Node çš„åŒ…ï¼Œåœ¨ script é‡Œé¢è°ƒç”¨ python è„šæœ¬å’Œ bash è„šæœ¬ä¹Ÿä¸€æ ·æºœï¼Œç›¸ä¿¡æˆ‘ï¼Œnpm scripts ä¼šç»™ä½ æ‰“å¼€ä¸€ç‰‡æ–°å¤©åœ°ï¼Œå¤§å®¶æœ‰æ—¶é—´ä¹Ÿå¯ä»¥ç ”ç©¶ä¸‹ [npmasbuildtool çš„ scripts æ¸…å•](https://github.com/marcusoftnet/npmasbuildtool/blob/master/package.json)

### åŒ…æ‰§è¡Œå·¥å…· - npx

npx æ˜¯ npm è‡ªå¸¦çš„éå¸¸é…·ç‚«çš„åŠŸèƒ½ï¼Œç›´æ¥æ‰§è¡Œä¾èµ–åŒ…é‡Œçš„äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œæ¯”å¦‚ï¼š

```
# å…ˆå®‰è£…ä¸€ä¸ª cowsay
âœ  npm install cowsay -D
# åŒ…é‡Œçš„äºŒè¿›åˆ¶æ–‡ä»¶ä¼šè¢«æ”¾åˆ° node_modules/.bin ç›®å½•ä¸‹

âœ  ll node_modules/.bin/
total 0
lrwxr-xr-x 1 16:34 cowsay -> ../cowsay/cli.js
lrwxr-xr-x 1 16:34 cowthink -> ../cowsay/cli.js

# ç›´æ¥é€šè¿‡ npx æ¥è°ƒç”¨ cowsay é‡Œçš„äºŒè¿›åˆ¶æ–‡ä»¶
âœ  npx cowthink Node å¥½ç©ä¹ˆ
 _____________
( Node å¥½ç©ä¹ˆ )
 -------------
        o   ^__^
         o  (oo)\_______
            (__)\       )\/\
                ||----w |
                ||     ||

âœ  npx cowsay çˆ½çˆ†äº†
 _____________
< Node çˆ½çˆ†äº† >
 -------------
        \   ^__^
         \  (oo)\_______
            (__)\       )\/\
                ||----w |
                ||     ||
```

ç”šè‡³æˆ‘ä»¬ `npm i webpack -D` ä»¥åï¼Œå¯ä»¥ç›´æ¥ `npx http-server` æŠŠé™æ€æœåŠ¡å¼€èµ·æ¥ã€‚


### åŒ…å‘å¸ƒ - npm publish

å¥½çš„ï¼Œçœ‹è¿‡äº† npm çš„ä¸»è¦å‘½ä»¤ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸‹å¦‚ä½•å‘å¸ƒä¸€ä¸ªåŒ…å§ï¼Œé¦–å…ˆä½ è¦æœ‰ä¸€ä¸ª npm çš„è´¦å·å’Œ Github è´¦å·ï¼Œå¯ä»¥åˆ†åˆ«åˆ° [npmjs.com](https://www.npmjs.com/) å’Œ [github.com](https://github.com/) æ³¨å†Œï¼Œå„è‡ªéƒ½æ³¨å†Œä¸”éªŒè¯é‚®ç®±åï¼ˆGithub è¿˜éœ€è¦é…ç½® [ssh key](https://help.github.com/articles/generating-a-new-ssh-key-and-adding-it-to-the-ssh-agent/)ï¼‰ï¼Œè¿™äº›éƒ½æå®šåï¼Œå°±å¯ä»¥å‡†å¤‡å¼€å‘å’Œå‘å¸ƒ NPM åŒ…äº†ï¼Œæ•´ä¸ªæµç¨‹å¾ˆç®€å•ï¼Œæ€»å…±éƒ½ä¸è¶…è¿‡ 10 æ­¥ï¼š

1. æœ¬åœ°ï¼ˆæˆ–è€…ä» Github ä¸Šï¼‰åˆ›å»ºåˆ›å»ºä¸€ä¸ªç©ºé¡¹ç›®ï¼Œæ‹‰åˆ°æœ¬åœ°
2. å¢åŠ  .gitignore å¿½ç•¥æ–‡ä»¶å’Œ README
3. npm init ç”Ÿæˆ package.json
4. ç¼–å†™åŠŸèƒ½ä»£ç ï¼Œå¢åŠ åˆ°ç›®å½• `/lib`
5. npm install æœ¬åœ°åŒ…è¿›è¡Œæµ‹è¯•
6. npm publish å‘å¸ƒåŒ…
7. npm install çº¿ä¸ŠåŒ…è¿›è¡ŒéªŒè¯
8. ä¿®æ”¹ä»£ç å‘å¸ƒä¸€ä¸ªæ–°ç‰ˆæœ¬

é‚£åˆ°åº•å¦‚ä½•å®æ“å‘¢ï¼Œæˆ‘ä»¬ä¸”å¾€ä¸‹çœ‹ã€‚

### ç¼–ç¨‹ç»ƒä¹  - å®ç°ä¸€ä¸ª Node LTS æŸ¥çœ‹å·¥å…·

æˆ‘ä»¬çŸ¥é“ Node ç‰ˆæœ¬å°±åƒåšç«ç®­ä¸€æ ·ï¼Œä¸€ç›´é£™å‡ï¼Œæœ‰çš„æ˜¯ LTS ç‰ˆæœ¬ï¼Œæœ‰çš„ä¸æ˜¯ï¼Œæˆ‘ä»¬æƒ³æ—¶ä¸æ—¶å›å¤´çœ‹ Node éƒ½å‘å¸ƒè¿‡å“ªäº›ç‰ˆæœ¬ï¼Œæ€»æ˜¯ä¸å¤ªæ–¹ä¾¿ï¼Œé‚£æˆ‘ä»¬å°±æ¥å¼€å‘ä¸€ä¸ªè¿™æ ·çš„å·¥å…·æŠŠï¼Œç»™å®ƒèµ·åå­—å« `ltsn` å§ï¼Œç„¶åå¯ä»¥åˆ° github ä¸Šæ–°å»ºä¸€ä¸ª repo åå­—å°±å«åš ltsnï¼Œå¤§å®¶å¯ä»¥æ¢ä¸€ä¸ªå…¶ä»–åå­—ï¼Œå› ä¸ºåœ¨ npm ä¸Šé¢ï¼Œä¸€ä¸ªåŒ…åæ˜¯å”¯ä¸€çš„ï¼Œä¸èƒ½é‡å¤ï¼Œç„¶åå°±æŒ‰ç…§ä¸Šé¢çš„å‡ ä¸ªæ­¥éª¤ï¼Œæˆ‘ä»¬é€ä¸ªæ¥å®ç°ã€‚

##### 1. é¡¹ç›®åˆå§‹åŒ–

æœ¬åœ°æ–°å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œå«åš `ltsn`ï¼Œå‘½ä»¤è¡Œåˆ°è¿™ä¸ªç›®å½•ä¸‹ï¼Œå¦‚æˆ‘çš„ç”µè„‘ä¸Šå°±æ˜¯ï¼š

```bash
âœ  cd ltsn
# é€šè¿‡ touch æ–°å»ºä¸€ä¸ª markdown çš„æ–‡ä»¶ï¼Œç”¨æ¥æè¿°åŒ…åŠŸèƒ½
âœ  touch README.md
# é€šè¿‡ touch æ–°å»ºä¸€ä¸ª git å¿½ç•¥æ–‡ä»¶
âœ  touch .gitignore
```

æ‰“å¼€ .gitignoreï¼Œè¾“å…¥å¦‚ä¸‹å†…å®¹ï¼ŒæŠŠä¸€äº›æ— å…³æ–‡ä»¶æ’é™¤å‡ºå»ã€‚

```bash
.DS_Store
npm-debug.log
node_modules
yarn-error.log
.vscode
.eslintrc.json
```

è¿™æ ·å‡†å¤‡å·¥ä½œçš„ 1/2 æ­¥å°±å¥½äº†ï¼Œå¦‚æœ Github ä¸Šåˆ›å»ºäº†é¡¹ç›®:

![](https://user-gold-cdn.xitu.io/2018/12/2/1676c7e2a696ac62?w=1454&h=1006&f=png&s=159662)

å¯ä»¥å†æŠŠæœ¬åœ°çš„é¡¹ç›®å’Œçº¿ä¸Š repo åšå…³è”ï¼š


![](https://user-gold-cdn.xitu.io/2018/12/2/1676c7f8b24c6e0f?w=1272&h=910&f=png&s=171812)

æˆ–è€…æŠŠç©ºä»“åº“æ‹‰ä¸‹æ¥ï¼Œæˆ‘ä»¬åœ¨ç©ºä»“åº“é‡Œï¼Œå¢åŠ ä¸Šè¿°æ–‡ä»¶ï¼Œå†è¿›è¡Œåé¢çš„æ“ä½œã€‚

##### 2. npm init ç”Ÿæˆ package.json

åœ¨ç›®å½•ä¸‹æ‰§è¡Œ `npm init`ï¼š

```bash
âœ  ltsn npm init
Press ^C at any time to quit.
# å›è½¦ç¡®è®¤æˆ–è€…è¾“å…¥å¦å¤–ä¸€ä¸ªåå­—ä½œä¸ºåŒ…å
package name: (ltsn)
# ç‰ˆæœ¬å°±ä» 1.0.0 å¼€å§‹
version: (1.0.0)
# ç®€å•çš„æè¿°
description: CommandLine Tool for Node LTS
# åŒ…çš„å…¥å£æ–‡ä»¶åœ°å€ï¼Œé€šè¿‡ index.js æš´éœ²å†…éƒ¨å‡½æ•°
entry point: (index.js) index.js
# æµ‹è¯•è„šæœ¬ï¼Œå¯ä»¥å…ˆç•™ç©ºï¼Œå¤§å®¶æ ¹æ®å®é™…æƒ…å†µå–èˆ
test command:
# åŒ…çš„ github ä»“åº“åœ°å€
git repository: git@github.com:4liang/ltsn.git
# ä¸€äº›åŠŸèƒ½å…³é”®è¯æè¿°
keywords: Node LTS
# ä½œè€…è‡ªå·±
author: 4liang
# å¼€æºçš„åè®®ï¼Œé»˜è®¤æ˜¯ ISCï¼Œæˆ‘ä¸ªäººå–œæ¬¢ MIT
license: (ISC) MIT
# æ£€æŸ¥ä¿¡æ¯æ— è¯¯ï¼Œè¾“å…¥ yes å›è½¦å³å¯
About to write to /Users/4liang/juejin/ltsn/package.json:
{
  "name": "ltsn",
  "version": "1.0.0",
  "description": "CommandLine Tool for Node LTS",
  "main": "lib/index.js",
  "scripts": {
    "test": "echo \"Error: no test specified\" && exit 1"
  },
  "repository": {
    "type": "git",
    "url": "git@github.com:4liang/ltsn.git"
  },
  "keywords": [
    "Node", "LTS"
  ],
  "author": "4liang",
  "license": "MIT",
  "bugs": { "url": "https://github.com/4liang/ltsn/issues" },
  "homepage": "https://github.com/4liang/ltsn#readme"
}

Is this OK? (yes) yes

# è¾“å…¥ ls æŸ¥çœ‹å½“å‰åŒ…å†…æ–‡ä»¶
âœ  ls
package.json README.md
```

å¦‚æœæƒ³æ›´çœäº‹ä¸€äº›ï¼Œå¯ä»¥ç”¨è„šæ‰‹æ¶æ¥åšï¼Œå…ˆå®‰è£…ï¼š

```bash
npm i yo generator-nm -g
```
ç„¶åè¿è¡Œ `yo nm`ï¼Œä¼šæœ‰ä¸€å †ç±»ä¼¼ä¸Šé¢çš„é—®è¯¢ï¼Œå®ƒä¼šå¸®ä½ æŠŠ .gitignore licence è¿™äº›æ¨¡å—ä¸­å¿…å¤‡çš„æ–‡ä»¶éƒ½ç”Ÿæˆå¥½ï¼Œéå¸¸æ–¹ä¾¿ã€‚

##### 4. å¢åŠ åŠŸèƒ½ä»£ç ç›®å½• `/lib`

ç°åœ¨è¿›å…¥ç¼–ç ç¯èŠ‚äº†ï¼Œé¦–å…ˆï¼Œæ ¹ç›®å½•ä¸‹å¢åŠ ä¸€ä¸ª index.jsï¼Œé€šè¿‡å®ƒæ¥æš´éœ² lib ä¸‹çš„æ¨¡å—ï¼š

```javascript
exports.query = require('./lib/query')
exports.update = require('./lib/update')
```

`/lib/update.js` å¯ä»¥ç”¨æ¥æ”¾æ•°æ®æºçš„è·å–å’Œæ›´æ–°ï¼Œè€Œ `/lib/query.js` é‡Œé¢å¯ä»¥æ”¾å¯¹æ•°æ®çš„äºŒæ¬¡åŠ å·¥æ ¼å¼åŒ–ä¹‹ç±»ï¼Œé¦–å…ˆæ˜¯ `/lib/update.js` è·å– Node LTS æ•°æ®ï¼š

```javascript
const axios = require('axios')
const color = require('cli-color')
const terminalLink = require('terminal-link')
const compareVersions = require('compare-versions')

module.exports = async (v) => {
  // æ‹¿åˆ°æ‰€æœ‰çš„ Node ç‰ˆæœ¬
  const { data } = await axios
    .get('https://nodejs.org/dist/index.json')
  
  // æŠŠç›®æ ‡ç‰ˆæœ¬çš„ LTS éƒ½æŒ‘é€‰å‡ºæ¥
  return data.filter(node => {
    const cp = v
      ? (compareVersions(node.version, 'v' + v + '.0.0') >= 0)
      : true
    return node.lts && cp
  }).map(it => {
    // è¸¢å‡ºå» file è¿™ä¸ªå­—æ®µï¼Œå…¶ä»–çš„å…¨éƒ¨è¿”å›
    const { files, ...rest } = it
    return { ...rest }
  })
}
```
ç„¶åæ˜¯ /lib/query.jsï¼š

```javascript
const Table = require('cli-table')

function query(dists) {
  const keys = Object.keys(dists[0])
  // å»ºç«‹è¡¨å¤´
  const table = new Table({
    head: keys
  })
  
  // æ‹¼æ¥å‡ºè¡¨æ ¼çš„æ¯ä¸€è¡Œ
  return dists
    .reduce((res, item) => {
      table.push(
        Object.values(item)
      )
      return res
    }, table)
    .toString()
}

module.exports = query
```

æœ€åï¼Œå†å¢åŠ ä¸€ä¸ª bin æ–‡ä»¶å¤¹ï¼Œåœ¨å®ƒé‡Œé¢å¢åŠ ä¸€ä¸ª ltsn è„šæœ¬æ–‡ä»¶ï¼Œåœ¨é‡Œé¢å†™å…¥ï¼š

```bash
#!/usr/bin/env node

const pkg = require('../package')
// ä»é¡¶å±‚ index.js é‡Œé¢æ‹¿åˆ° lib ä¸‹é¢æ¨¡å—æš´éœ²çš„æ–¹æ³•
const query = require('..').query
const update = require('..').update

// è¾“å‡ºç»“æœåˆ°å‘½ä»¤è¡Œçª—å£
function printResult(v) {
  update(v).then(dists => {
    const results = query(dists, v)
    console.log(results)
    process.exit()
  })
}

function printVersion() {
  console.log('ltsn ' + pkg.version)
  process.exit()
}

// ä¸€äº›å‘½ä»¤çš„å¸®åŠ©æç¤º
function printHelp(code) {
  const lines = [
    '',
    '  Usage:',
    '    ltsn [8]',
    '',
    '  Options:',
    '    -v, --version             print the version of vc',
    '    -h, --help                display this message',
    '',
    '  Examples:',
    '    $ ltsn 8',
    ''
  ]

  console.log(lines.join('\n'))
  process.exit(code || 0)
}

// åŒ…çš„å…¥å£å‡½æ•°ï¼Œé‡Œé¢å¯¹å‚æ•°åšå‰ªè£å¤„ç†ï¼Œæ‹¿åˆ°å…¥å‚å¹¶ç»™äºˆ
// ä¸åŒå…¥å‚çš„å¤„ç†é€»è¾‘
function main(argv) {
  if (!argv) {
    printHelp(1)
  }

  const getArg = function() {
    let args = argv.shift()

    args = args.split('=')
    if (args.length > 1) {
      argv.unshift(args.slice(1).join('='))
    }
    return args[0]
  }

  let arg

  while (argv.length) {
    arg = getArg()
    switch(arg) {
      case '-v':
      case '-V':
      case '--version':
        printVersion()

        break
      case '-h':
      case '-H':
      case '--help':
        printHelp()

        break
      default:
        printResult(arg)

        break
    }
  }
}

// å¯åŠ¨ç¨‹åºå°±å¼€å§‹æ‰§è¡Œä¸»å‡½æ•°
main(process.argv.slice(2))

module.exports = main
```

`#!/usr/bin/env node` åŠ ä¸Š `#!` è¿™é‡Œæ˜¯å®šä¹‰å½“å‰è„šæœ¬çš„æ‰§è¡Œç¯å¢ƒæ˜¯ç”¨ Node æ‰§è¡Œï¼Œå®‰è£…åŒ…ä»¥åæˆ‘ä»¬å¸Œæœ›å®ƒå¯ä»¥åƒä¸€ä¸ªäºŒè¿›åˆ¶ä¸€æ ·æ¥æ‰§è¡Œï¼Œé‚£ä¹ˆå¯ä»¥åˆ° package.json æ¥é…ç½®ä¸‹æ‰§è¡Œè·¯å¾„ï¼Œåœ¨ package.json é‡Œé¢å¢åŠ ä¸€ä¸ªé…ç½®å±æ€§ï¼š

```bash
"bin": {
  "ltsn": "bin/ltsn"
},
```

ç„¶åå¯¹äºç”¨åˆ°çš„æ¨¡å—ï¼Œæˆ‘ä»¬åœ¨åŒ…ç›®å½•ä¸‹ï¼Œæ‰§è¡Œï¼š

```bash
npm i axios cli-color cli-table compare-versions -S
```

è¿™æ ·å®‰è£…åï¼Œpackage-lock.json ä¹Ÿè‡ªåŠ¨åˆ›å»ºäº†ï¼Œ æ•´ä¸ªçš„ç›®å½•ç»“æœå¦‚ä¸‹ï¼š

```bash
~ tree -L 2
.
â”œâ”€â”€ README.md
â”œâ”€â”€ bin
â”‚Â Â  â””â”€â”€ ltsn
â”œâ”€â”€ index.js
â”œâ”€â”€ lib
â”‚Â Â  â”œâ”€â”€ query.js
â”‚Â Â  â””â”€â”€ update.js
â”œâ”€â”€ node_modules
â”œâ”€â”€ package-lock.json
â””â”€â”€ package.json
```

å†æŠŠ README.md æ–‡æ¡£å†…å®¹å®Œå–„ä¸€ä¸‹ï¼Œæˆ‘ä»¬çš„ä»£ç å°±å‡†å¤‡å¥½äº†ã€‚

##### 5. npm install æœ¬åœ°åŒ…è¿›è¡Œæµ‹è¯•

ç­‰åˆ°ä»£ç å†™å®Œï¼Œå°±å¯ä»¥æœ¬åœ°æµ‹è¯•äº†ï¼Œæœ¬åœ°æµ‹è¯•æœ€ç®€å•çš„åŠæ³•ï¼Œå°±æ˜¯é€šè¿‡ `npm link` å®‰è£…ä¸‹ï¼š

```
~ npm link
npm WARN ltsn@1.0.0 No repository field.

audited 145 packages in 2.103s
found 0 vulnerabilities

/Users/4liang/.nvm/versions/node/v10.11.0/bin/ltsn -> /Users/4liang/.nvm/versions/node/v10.11.0/lib/node_modules/ltsn/bin/ltsn
/Users/4liang/.nvm/versions/node/v10.11.0/lib/node_modules/ltsn -> /Users/4liang/juejin/ltsn
```

ç„¶åè¾¹è°ƒè¯•ä»£ç è¾¹æµ‹è¯•ï¼Œæµ‹è¯•å®Œæ¯•åï¼Œå¯ä»¥ç›´æ¥åœ¨æœ¬åœ°æŒ‡å®šç›®å½•æ¥å…¨å±€å®‰è£…ï¼Œé¦–å…ˆå¸è½½æ‰ä¹‹å‰å¯èƒ½æµ‹è¯•å®‰è£…è¿‡çš„å…¨å±€åŒ…ï¼š

```bash
npm uninstall ltsn -g
```

ç„¶åå¯ä»¥åœ¨å‘½ä»¤è¡Œçª—å£ç”¨ç»å¯¹è·¯å¾„ï¼Œæˆ–è€…ç›´æ¥è¿›å…¥åˆ°åŒ…ç›®å½•ä¸‹ï¼Œæ‰§è¡Œå…¨å±€å®‰è£…åŠ¨ä½œï¼š

```bash
npm i ./ -g
# npm i /Users/4liang/juejin/ltsn -g
```

å®‰è£…åï¼Œæµ‹è¯•ä¸‹ `ltsn 10`ï¼Œä¼šæ‹¿åˆ°è¿™æ ·ä¸€ä¸ªæˆªå›¾ï¼š


![](https://user-gold-cdn.xitu.io/2018/12/1/1676a3392c714b3e?w=1320&h=302&f=png&s=49641)


##### 6. npm publish å‘å¸ƒåŒ…

ä»£ç å†™å®Œæµ‹è¯•å®Œï¼Œå°±å¯ä»¥å‘å¸ƒåˆ° npm ä¸Šäº†ï¼Œå†å‘å¸ƒä¹‹å‰ï¼Œåˆ«å¿˜è®°å…ˆæŠŠä»£ç  push åˆ° github ä¸Šæ¥è®°å½•è¿™ä¸€ç‰ˆæœ¬çš„å˜åŒ–ï¼Œè‡³äºå‘å¸ƒåŠ¨ä½œåˆ™å¾ˆç®€å•ï¼Œå…ˆç¡®ä¿åˆ° [npmjs.com](https://www.npmjs.com/) æ³¨å†Œå¥½ä¸€ä¸ªè´¦å·ä¸”é‚®ç®±éªŒè¯å®Œæ¯•ï¼ˆæœ‰çš„å›½å†…é‚®ç®±ä¼šéªŒè¯å¤±è´¥ï¼Œæ¯”å¦‚ yeah.net ç½‘æ˜“é‚®ç®±ï¼‰ï¼Œç„¶ååœ¨æœ¬åœ°å‘½ä»¤è¡Œçª—å£ç™»å½•ï¼š

```bash
~ npm login
Username: 4liangge
Password:
Email: (this IS public) 4liangge@gmail.com
Logged in as 4liangge on https://registry.npmjs.com/.
```

ç¬¬ä¸€æ¬¡ç™»é™†åï¼Œåé¢å†å‘å¸ƒç‰ˆæœ¬å°±ä¸ç”¨å†é‡å¤ç™»å½•äº†ï¼Œç„¶åç›´æ¥åœ¨åŒ…ç›®å½•ä¸‹ `npm publish`ï¼š

```
~ npm publish
npm notice
npm notice ğŸ“¦  ltsn@1.0.0
npm notice === Tarball Contents ===
npm notice 465B  package.json
npm notice 266B  index.js
npm notice 307B  README.md
npm notice 1.3kB bin/ltsn
npm notice 316B  lib/query.js
npm notice 632B  lib/update.js
npm notice === Tarball Details ===
npm notice name:          ltsn
npm notice version:       1.0.0
npm notice package size:  1.8 kB
npm notice unpacked size: 3.3 kB
npm notice shasum:        aa4bed6796f1c79492fb500d5c0db7b1ef660e27
npm notice integrity:     sha512-cl3GyrLxr0wyo[...]OQUEWcV4hWkgA==
npm notice total files:   6
npm notice
+ ltsn@1.0.0
```

å¦‚æœçœ‹åˆ°è¿™æ ·çš„æç¤ºå°±è¡¨ç¤ºå‘å¸ƒæˆåŠŸäº†ã€‚


##### 7. npm install çº¿ä¸ŠåŒ…è¿›è¡ŒéªŒè¯

publish æˆåŠŸåï¼Œå¯ä»¥æ¥æµ‹è¯•ä¸‹ï¼Œå…ˆæœ¬åœ°åˆ æ‰å®‰è£…å¥½çš„ï¼Œå†é‡æ–°å®‰è£…ä¸‹ï¼š

```bash
~ npm uninstall ltsn -g
removed 1 package in 0.262s

~ npm i ltsn -g
/Users/black/.nvm/versions/node/v10.13.0/bin/ltsn -> /Users/black/.nvm/versions/node/v10.13.0/lib/node_modules/ltsn/bin/ltsn
+ ltsn@1.0.0
added 28 packages from 17 contributors in 5.33s
```
æˆåŠŸå®‰è£…ä¸‹æ¥ï¼Œåœ¨æœ¬åœ°è®°å¾—å† `ltsn 10` æµ‹è¯•ä¸‹ã€‚

##### 8. ä¿®æ”¹ä»£ç å‘å¸ƒä¸€ä¸ªæ–°ç‰ˆæœ¬

æœ‰æ—¶å€™æˆ‘ä»¬ä¼šä¿®ä¸€ä¸ª bugï¼Œæˆ–è€…å¢åŠ ä¸€ä¸ªæ–°ç‰¹æ€§ï¼Œç”šè‡³æœ‰æ–­ä»£æ›´æ–°ï¼Œè¿™æ—¶å€™ç‰ˆæœ¬ç®¡ç†å°±å‚è€ƒå‰é¢çš„è¯­ä¹‰åŒ–ç‰ˆæœ¬æ¥ç®¡ç†å°±è¡Œï¼Œæ¯”å¦‚æˆ‘ä»¬æƒ³è¦å¢åŠ ä¸€ä¸ªå°ç‰¹æ€§ï¼Œå¯ä»¥æ”¯æŒåœ¨è¡¨æ ¼é‡Œå¤šå‘ˆç°ä¸€ä¸ªä¿¡æ¯ï¼Œå°±æ˜¯æ¯ä¸€ä¸ª LTS ç‰ˆæœ¬å®ƒä»¬æœ‰ä¸€ä¸ª APIï¼Œæ¯”å¦‚ [v10.14.1](https://nodejs.org/dist/v10.14.1/docs/api/documentation.html) å’Œ [v10.13.0](https://nodejs.org/dist/v10.13.0/docs/api/documentation.html) æ˜¯ä¸¤ä¸ªç‹¬ç«‹çš„ API æ–‡æ¡£åœ°å€ï¼Œæ–‡æ¡£å†…å®¹ä¹Ÿæ˜¯æœ‰å·®å¼‚çš„ï¼Œé‚£ä¹ˆæˆ‘ä»¬é¦–å…ˆåˆ°ä»£ç ä¸­ï¼Œæ‰¾åˆ° `/lib/update` é‡Œé¢çš„ map å‡½æ•°ï¼Œåœ¨é‡Œé¢å¢åŠ ä¸€å¥ä»£ç ï¼š

```javascript
const terminalLink = require('terminal-link')
//...
.map(it => {
    const { files, ...rest } = it
    const doc = color.yellow(terminalLink('API', `https://nodejs.org/dist/${it.version}/docs/api/documentation.html`))
    return { ...rest, doc }
  })
```

è¿™é‡Œç”¨åˆ°äº† terminal-link è¿™ä¸ªå¯ä»¥åœ¨å‘½ä»¤è¡Œçª—å£ä¸­ç‚¹å‡»è·³è½¬çš„æ¨¡å—ï¼Œæˆ‘ä»¬å®‰è£…ä¸€ä¸‹ `npm i terminal-link -S`ï¼Œå®‰è£…åï¼ŒåŒæ ·èµ°ä¸Šé¢çš„æµ‹è¯•æ­¥éª¤ï¼Œæµ‹è¯•é€šè¿‡åï¼ŒæŠŠ packge.json çš„ç‰ˆæœ¬å·æ”¹ä¸€ä¸‹ï¼Œè¿™ä¸ªåŠŸèƒ½æ˜¯å¢åŠ ä¸€ä¸ªé“¾æ¥ï¼Œåœ¨å±•ç¤ºä¸Šæœ‰å˜åŒ–ï¼Œä½†æ˜¯å‘ä¸‹æ˜¯å…¼å®¹çš„ï¼Œæ‰€ä»¥å¯ä»¥æŠŠç‰ˆæœ¬å·ä» `1.0.0` æ”¹ä¸º `1.1.0`ï¼Œæ”¹å®Œåï¼Œæˆ‘ä»¬ç»§ç»­æ¨é€åˆ° github ä¸Šåï¼Œå† `npm publish` å°±å¯ä»¥äº†ï¼š

```bash
~ npm publish
npm notice
npm notice ğŸ“¦  ltsn@1.1.0
npm notice === Tarball Contents ===
npm notice 705B  package.json
npm notice 266B  index.js
npm notice 307B  README.md
npm notice 1.3kB bin/ltsn
npm notice 316B  lib/query.js
npm notice 634B  lib/update.js
npm notice === Tarball Details ===
npm notice name:          ltsn
npm notice version:       1.1.0
npm notice package size:  1.9 kB
npm notice unpacked size: 3.6 kB
npm notice shasum:        4a5e5f232a90924762bdadd87e1495f5a02387c1
npm notice integrity:     sha512-CkfGrMQ0e2Jtm[...]70Q8w6U3s/Zyg==
npm notice total files:   6
npm notice
+ ltsn@1.1.0
--------------------------------------------------------
~ npm un ltsn -g
removed 1 package in 0.267s
--------------------------------------------------------
~ npm i ltsn -g
/Users/black/.nvm/versions/node/v10.13.0/bin/ltsn -> /Users/black/.nvm/versions/node/v10.13.0/lib/node_modules/ltsn/bin/ltsn
+ ltsn@1.1.0
added 28 packages from 18 contributors in 5.526s
--------------------------------------------------------
~ ltsn -v
ltsn 1.1.0
~ ltsn 8
```

![](https://user-gold-cdn.xitu.io/2018/12/2/1676cb3a7e3dba85?w=1422&h=800&f=png&s=140465)

å¯ä»¥çœ‹åˆ°æ‰“å°çš„è¡¨æ ¼é‡Œï¼Œå¤šäº† API è¿™ä¸€æ ï¼ŒåŒæ—¶ ltsn çš„ç‰ˆæœ¬ä¹Ÿå‡çº§åˆ°äº† `1.1.0` äº†ã€‚

åˆ°è¿™é‡Œä¸ºæ­¢ï¼Œå‘åŒ…æµç¨‹å…¨éƒ¨æå®šäº†ï¼Œä½†æ˜¯è¿™äº›åŒ…æ˜¯å…¬å¼€çš„ï¼Œå½“æˆ‘ä»¬å¸Œæœ›è‡ªå·±çš„åŒ…ä¸æ˜¯å‘å¸ƒåˆ° npm å…¬å…±ç©ºé—´æ—¶å€™ï¼Œæˆ‘ä»¬å°±å¯ä»¥é€‰æ‹©å‘å¸ƒåˆ°ç§æœ‰æºï¼Œnpm ä¹Ÿæä¾›äº†æ”¶è´¹çš„æœåŠ¡ï¼Œè®©æˆ‘ä»¬æ— è®ºä¸ªäººè¿˜æ˜¯ç»„ç»‡éƒ½å¯ä»¥ç®¡ç†ç»´æŠ¤è‡ªå·±çš„ç§æœ‰æºï¼Œé‚£ä¹ˆæœ‰å…è´¹çš„ç§æœ‰æºä¹ˆï¼Œæ¯”å¦‚å‰é¢æˆ‘ä»¬æåˆ°çš„ [Aliyun Registry](https://node.console.aliyun.com/registry/home)ï¼Œæˆ‘è‡ªå·±å·®ä¸å¤šè¯•ç”¨äº† 1 å¹´ï¼Œæ„Ÿè§‰è¿˜æ˜¯å¾ˆå¥½ç”¨çš„ã€‚

ä½¿ç”¨ä¹Ÿå¾ˆç®€å•ï¼Œé¦–å…ˆå¤§å®¶åˆ°é˜¿é‡Œäº‘æ³¨å†Œä¸€ä¸ªè´¦å·ï¼Œæ‹¿åˆ°è‡ªå·±çš„ ç”¨æˆ· IDï¼Œç„¶åæ‰“å¼€[è¿™ä¸ªåœ°å€](https://node.console.aliyun.com/registry/home)ï¼Œè¿›å»åï¼Œæ–°å»ºä¸€ä¸ª registryï¼Œå¯ä»¥æ‹¿åˆ°è‡ªå·±çš„è´¦å·å’Œå¯†ç ï¼Œæœ‰äº†è¿™ä¸ªå°±å¥½åŠäº†ã€‚

æˆ‘ä»¬æŠŠç°åœ¨æœ¬åœ°çš„åŒ…ä»£ç ï¼Œæ”¹æˆ @scope/ltsnï¼Œç„¶åæœ¬åœ° npm registry åˆ‡æ¢åˆ°è¿™ä¸ªæºï¼Œé‡æ–° npm login/npm publish å°±å¯ä»¥äº†ï¼Œæµç¨‹ä¸€æ ·å°±ä¸å†æ¼”ç¤ºäº†ï¼Œå½“ç„¶ npm è¿˜æœ‰å¾ˆå¤šå…¶ä»–å¥½ç”¨çš„åŠŸèƒ½ï¼Œæ¯”å¦‚æŸ¥çœ‹å…¨å±€å®‰è£…è¿‡çš„æ¨¡å—ï¼š

```
~ npm list -g --depth=0
/Users/black/.nvm/versions/node/v10.13.0/lib
â”œâ”€â”€ airing-translator@1.0.4
â”œâ”€â”€ autocannon@3.1.0
â”œâ”€â”€ coinboard@0.0.9
â”œâ”€â”€ countapi@1.0.0 -> /Users/black/juejin/countapi
â”œâ”€â”€ fanyi@1.2.1
â”œâ”€â”€ github-friends-tree@1.1.1
â”œâ”€â”€ legacy@0.0.3
â”œâ”€â”€ loadtest@3.0.4
â”œâ”€â”€ ltsn@1.1.0 -> /Users/black/juejin/ltsn
â”œâ”€â”€ npm@6.4.1
â”œâ”€â”€ pm2@3.2.2
â”œâ”€â”€ popular-package@1.0.1
â”œâ”€â”€ tree-dir-cli@0.0.6
â”œâ”€â”€ yd_translate@0.2.2
â”œâ”€â”€ yo@2.0.5
â””â”€â”€ ytdl@0.10.4
```

è¿™äº›å°±ç•™ç»™å¤§å®¶æœ‰æ—¶é—´æ¥ç ”ç©¶äº†ï¼Œæ€»è€Œè¨€ä¹‹ï¼Œnpm æ˜¯æˆ‘ä»¬å­¦ä¹  Node è¿‡ç¨‹ä¸­å¿…é¡»æŒæ¡çš„ä¸€ä¸ªæŠ€èƒ½ï¼Œnpm ç”¨çš„æºœï¼Œä¸ä»…å¯ä»¥ç»™æˆ‘ä»¬çš„ç”Ÿæ´»å­¦ä¹ å¸¦æ¥å¾ˆå¤šå¥½ç”¨ä¸‰æ–¹æˆ–è€…è‡ªç ”çš„å·¥å…·ï¼Œä¹Ÿå¯ä»¥å¸®æˆ‘ä»¬æ‰“å¼€è§†é‡ï¼Œçœ‹åˆ° Node ç¤¾åŒºç”Ÿæœºå‹ƒå‹ƒå……æ»¡æƒ³è±¡åŠ›çš„ä¸€é¢ã€‚