---
title: ç¬¬08ç« å®æˆ˜ç¯‡å¼€å‘ç¯å¢ƒæ­å»º
date: 2025-03-12T02:22:45+08:00
description: "Electronåº”ç”¨å¼€å‘å®è·µæŒ‡å—ï¼Œç¬¬08ç« å®æˆ˜ç¯‡å¼€å‘ç¯å¢ƒæ­å»º"
categories: ['æ˜é‡‘å°å†Œ']
tags: ['æ˜é‡‘å°å†Œ','è¯¾ç¨‹']
artid: "1741706009"
image:
    path: https://bing.ee123.net/img/rand?artid=1741706009
    alt: ç¬¬08ç« å®æˆ˜ç¯‡å¼€å‘ç¯å¢ƒæ­å»º
featuredImage: https://bing.ee123.net/img/rand?artid=1741706009
featuredImagePreview: https://bing.ee123.net/img/rand?artid=1741706009
cover: https://bing.ee123.net/img/rand?artid=1741706009
image: https://bing.ee123.net/img/rand?artid=1741706009
img: https://bing.ee123.net/img/rand?artid=1741706009
---

ï»¿## å‰è¨€
å·¥æ¬²å–„å…¶äº‹å¿…å…ˆåˆ©å…¶å™¨ï¼Œåœ¨è¿›è¡Œå®æˆ˜å¼€å‘çš„æ—¶å€™ï¼Œæˆ‘ä»¬æœ€ç»ˆçš„æ­¥éª¤æ˜¯æå¥½ä¸€ä¸ªèˆ’æœçš„å¼€å‘ç¯å¢ƒï¼Œç›®å‰æ”¯æŒ `Vue` çš„ `Electron` å·¥ç¨‹åŒ–å·¥å…·ä¸»è¦æœ‰ [electron-vue](https://simulatedgreg.gitbooks.io/electron-vue/content/cn/)ã€[Vue CLI Plugin Electron Builder](https://nklayman.github.io/vue-cli-plugin-electron-builder/)ã€[electron-vite](https://cn.electron-vite.org/)ã€‚ 

> `electron-vue` å·²ç»å¹´ä¹…å¤±ä¿®äº†ï¼Œæš‚æ—¶å°±ä¸ä»‹ç»äº†ï¼Œæœ‰å…´è¶£çš„å°ä¼™ä¼´å¯ä»¥å»çœ‹çœ‹å®ƒçš„å®˜ç½‘è¯•ç€ç©ç©ã€‚

æ¥ä¸‹æ¥æˆ‘ä»¬å°†åˆ†åˆ«ä»‹ç»åŸºäº `Vue CLI Plugin Electron Builder` å’Œ `electron-vite` çš„å¼€å‘ç¯å¢ƒæ­å»ºã€‚


## vue-cli-plugin-electron-builder
`vue-cli-plugin-electron-builder` æ˜¯ä¸€ä¸ªåŸºäº [VueCli](https://cli.vuejs.org/zh/) çš„æ’ä»¶å·¥å…·ï¼Œå®ƒæ˜¯ä¸€ä¸ª `npm` åŒ…ï¼Œèƒ½å¤Ÿä¸º Vue CLI åˆ›å»ºçš„é¡¹ç›®æ·»åŠ  `Electron` æ„å»ºçš„èƒ½åŠ›ã€‚


### 1. åˆ›å»ºä¸€ä¸ª VueCli é¡¹ç›®
æ—¢ç„¶å®ƒæ˜¯ä¸€ä¸ªåŸºäº `VueCli` çš„æ’ä»¶å·¥å…·ï¼Œæ‰€ä»¥é¦–å…ˆéœ€è¦ç¡®ä¿ä½ çš„æœ¬åœ°ç¯å¢ƒä¸­å·²ç»å®‰è£…å¥½äº† `VueCli` å·¥å…·ï¼Œå¦‚æœè¿˜æœªå®‰è£…ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤è¿›è¡Œå®‰è£…ï¼š

```sh
npm install -g @vue/cli
# OR
yarn global add @vue/cli
```

å®‰è£…å¥½ `CLI` å·¥å…·åï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨ `CLI` åˆ›å»ºä¸€ä¸ª `Vue` é¡¹ç›®ï¼š

```sh
vue create electron-vue
```

è¿™é‡Œï¼Œæˆ‘ä»¬é€‰æ‹© `Vue 3` + `babel` + `eslint` çš„æ¨¡å¼ï¼š


<p align=center><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/6ba7e61c3750467683595ab548657e0d~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=820&h=262&s=42765&e=png&b=ffffff" alt="image.png"  /></p>

åˆ›å¥½äº†åï¼Œä¸€èµ·æ¥çœ‹ä¸€ä¸‹æˆ‘ä»¬çš„å¤§è‡´ç›®å½•ç»“æ„ï¼š

```sh
.
â”œâ”€â”€ public
â”‚Â Â  â”œâ”€â”€ favicon.ico
â”‚Â Â  â””â”€â”€ index.html
â”œâ”€â”€ src
â”‚Â Â  â”œâ”€â”€ App.vue
â”‚Â Â  â”œâ”€â”€ assets
â”‚Â Â  â”œâ”€â”€ components
â”‚Â Â  â””â”€â”€ main.js
â”œâ”€â”€ README.md
â”œâ”€â”€ babel.config.js
â”œâ”€â”€ jsconfig.json
â”œâ”€â”€ package.json
â”œâ”€â”€ vue.config.js
â””â”€â”€ yarn.lock
```

### 2. å®‰è£… vue-cli-plugin-electron-builder
æ—¢ç„¶ `vue-cli-plugin-electron-builder` æ˜¯ä¸ª `VueCli` æ’ä»¶ï¼Œé‚£ä¹ˆå°±å¯ä»¥ä½¿ç”¨ `CLI` å‘½ä»¤ `vue add` çš„æ–¹å¼è¿›è¡Œæ’ä»¶å®‰è£…ï¼š

```sh
# å®‰è£…å¹¶è°ƒç”¨ vue-cli-plugin-electron-builder
vue add electron-builder
```

åœ¨å®‰è£…çš„æ—¶å€™ï¼Œåªæä¾›äº† `Electron` v11ã€v12ã€v13 è¿™ 3 ä¸ªç‰ˆæœ¬é€‰æ‹©ï¼Œè¿™é‡Œæˆ‘ä»¬å…ˆé€‰ `v13`ã€‚åé¢æˆ‘ä»¬å†è¿›è¡Œå‡çº§ã€‚

<p align=center><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/1fbaeff479844ebaac16ad76371677c6~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=608&h=102&s=10405&e=png&b=fefefe" alt="image.png"  /></p>

å®‰è£…å®Œæˆåï¼Œæˆ‘ä»¬å†çœ‹ä¸€ä¸‹æˆ‘ä»¬çš„ç›®å½•ç»“æ„ï¼š

```sh
.
â”œâ”€â”€ public
â”‚Â Â  â”œâ”€â”€ favicon.ico
â”‚Â Â  â””â”€â”€ index.html
â”œâ”€â”€ src
â”‚Â Â  â”œâ”€â”€ App.vue
â”‚Â Â  â”œâ”€â”€ assets
â”‚Â Â  â”œâ”€â”€ background.js
â”‚Â Â  â”œâ”€â”€ components
â”‚Â Â  â””â”€â”€ main.js
â”œâ”€â”€ README.md
â”œâ”€â”€ babel.config.js
â”œâ”€â”€ jsconfig.json
â”œâ”€â”€ package.json
â”œâ”€â”€ vue.config.js
â””â”€â”€ yarn.lock
```
æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†å†è¯¦ç»†ä»‹ç»ä¸€ä¸‹ä¸€äº›æ ¸å¿ƒæ–‡ä»¶çš„ä½œç”¨ï¼š
1. `package.json`ï¼šè¿™ä¸ªæ–‡ä»¶é€šè¿‡ `main` å­—æ®µå®šä¹‰äº†**ç¼–è¯‘å**çš„ä¸»å…¥å£æ–‡ä»¶è·¯å¾„ï¼Œå¹¶ä¸”é€šè¿‡ `script` å­—æ®µå®šä¹‰äº†åº”ç”¨ç¨‹åºçš„å¯åŠ¨ã€ç¼–è¯‘ç­‰è„šæœ¬ç¨‹åºã€‚
2. `src/background.js`ï¼šè¿™ä¸ªæ–‡ä»¶å°±æ˜¯ `Electron` çš„ä¸»è¿›ç¨‹çš„å…¥å£æ–‡ä»¶ï¼Œå®ƒæ˜¯åº”ç”¨ç¨‹åºçš„å…¥å£ç‚¹ï¼Œè´Ÿè´£ç®¡ç†æ•´ä¸ªåº”ç”¨çš„ç”Ÿå‘½å‘¨æœŸã€åˆ›å»ºçª—å£ã€åŸç”Ÿ API è°ƒç”¨ç­‰ã€‚
3. `src/main.js` æ˜¯æ¸²æŸ“è¿›ç¨‹çš„å…¥å£æ–‡ä»¶ï¼Œå°±æ˜¯æˆ‘ä»¬é€šå¸¸å†™çš„ `Vue` å‰ç«¯ä»£ç çš„å…¥å£ã€‚


### 3. ç›®å½•ç»“æ„ä¼˜åŒ–
ä¸ºäº†æ›´å¥½åœ°å¼€å‘ä½“éªŒé™ä½å¿ƒæ™ºè´Ÿæ‹…çš„ç†è§£æˆæœ¬ï¼Œæˆ‘ä»¬éœ€è¦å¯¹æ•´ä½“ç›®å½•è¿›è¡Œä¸€ä¸‹ä¼˜åŒ–ã€‚ä¼˜åŒ–çš„ç›®æ ‡æ˜¯ä¸ºäº†æ›´å®¹æ˜“åŒºåˆ†ä¸»è¿›ç¨‹å’Œæ¸²æŸ“è¿›ç¨‹ï¼š

```sh
.
â”œâ”€â”€ public
â”‚Â Â  â”œâ”€â”€ favicon.ico
â”‚Â Â  â””â”€â”€ index.html
â”œâ”€â”€ src
â”‚Â Â  â”œâ”€â”€ main
â”‚Â Â  â”‚Â Â  â””â”€â”€ index.js
â”‚Â Â  â””â”€â”€ renderer
â”‚Â Â      â”œâ”€â”€ App.vue
â”‚Â Â      â”œâ”€â”€ assets
â”‚Â Â      â”œâ”€â”€ components
â”‚Â Â      â””â”€â”€ main.js
â”œâ”€â”€ README.md
â”œâ”€â”€ babel.config.js
â”œâ”€â”€ jsconfig.json
â”œâ”€â”€ package.json
â”œâ”€â”€ vue.config.js
â””â”€â”€ yarn.lock
```
è¿™é‡Œï¼Œæˆ‘ä»¬æ–°å»ºäº† `main` å’Œ `renderer` ç›®å½•ï¼Œå¹¶å°†ä¹‹å‰çš„ `src/background.js` è¿ç§»åˆ°äº† `main` ç›®å½•ä¸‹ï¼Œä¸”é‡å‘½åä¸º `index.js`ã€‚ç„¶åå†æŠŠä¹‹å‰å’Œ `Vue` ç›¸å…³çš„æ¸²æŸ“è¿›ç¨‹çš„æ–‡ä»¶ä»¥åŠæ–‡ä»¶å¤¹å…¨éƒ¨è¿ç§»åˆ°äº† `renderer` ç›®å½•ä¸‹ã€‚

è¿™æ ·åœ¨å¼€å‘çš„æ—¶å€™ï¼Œå°±å¯ä»¥ä¸€çœ¼çœ‹æ˜ç™½å“ªäº›å±äºæ¸²æŸ“è¿›ç¨‹ã€å“ªäº›å±äºä¸»è¿›ç¨‹ã€‚

å› ä¸ºæˆ‘ä»¬åšäº†ç›®å½•çš„è°ƒæ•´ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦é‡æ–°ä¿®æ”¹ä¸€ä¸‹ `vue.config.js` çš„ç¼–è¯‘é…ç½®ï¼š
```js
// vue.config.js
const { defineConfig } = require('@vue/cli-service')
module.exports = defineConfig({
  transpileDependencies: true,
  pages: {
    index: {
      // ä¿®æ”¹æ¸²æŸ“è¿›ç¨‹å…¥å£æ–‡ä»¶çš„ä½ç½®
      entry: 'src/renderer/main.js',
    },
  },
  pluginOptions: {
    electronBuilder: {
      nodeIntegration: true,
      // ä¿®æ”¹ä¸»è¿›ç¨‹çš„å…¥å£æ–‡ä»¶ä½ç½®
      mainProcessFile: 'src/main/index.js',
      // è®¾ç½®ä¸»è¿›ç¨‹çš„ä¿®æ”¹ç›‘å¬ï¼Œå½“ä¸»è¿›ç¨‹å‘ç”Ÿå˜æ›´æ—¶ï¼Œå¯ä»¥åŠæ—¶çƒ­æ›´
      mainProcessWatch: ['src/main'],
    },
  },
})
```
æœ€åï¼Œä¹Ÿè¦è®°å¾—ä¿®æ”¹ `package.json` é‡Œé¢çš„ `main` é…ç½®ï¼š

```json
{
  ...
  "main": "index.js",
  ...
}
```

### 4. å‡çº§ electron
ç›®å‰æœ€æ–° stable ç‰ˆæœ¬çš„ `Electron` æ˜¯ `v27.1.3`ï¼š

<p align=center><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/320a677b02e74e37a8bf00e491262f1c~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=1281&h=669&s=54629&e=png&b=ffffff" alt="image.png"  /></p>

é‚£æˆ‘ä»¬å¯ä»¥ç›´æ¥å‡çº§åˆ°è¿™ä¸ªç‰ˆæœ¬ï¼š

```sh
yarn add electron@27.1.3 -D
```

å¦‚æœåœ¨å®‰è£…è¿‡ç¨‹ä¸­é‡åˆ°äº†ç½‘ç»œé”™è¯¯ï¼š

![image.png](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/4705e60c12174cb0a9a4447203d2c186~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=1031&h=249&s=45893&e=png&b=fefefe)

å¯ä»¥æ·»åŠ ä¸€ä¸ª `.npmrc` æ–‡ä»¶ä»£ç† `Electron` çš„å®‰è£…æºï¼ŒæŒ‡å‘ `taobao`ã€‚

```
electron_mirror=https://npmmirror.com/mirrors/electron/
```

ä¿®æ”¹å®Œæˆåï¼Œæˆ‘ä»¬è¿è¡Œä¸€ä¸‹å¯åŠ¨æœ¬åœ°æœåŠ¡ï¼š

```sh
npm run electron:serve
```

<p align=center><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b98ee5cea58e43a9a1cfe2d25b7538e6~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=1600&h=1200&s=491558&e=png&b=fdfdfd" alt="image.png"  /></p>

å¤§å·¥å‘Šæˆï¼ğŸ‰ğŸ‰




## electron-vite


`electron-vite` æ˜¯ä¸€ä¸ªæ–°å‹ Electron å¼€å‘æ„å»ºå·¥å…·ï¼Œæ—¨åœ¨ä¸º Electron æä¾›æ›´å¿«ã€æ›´ç²¾ç®€çš„å¼€å‘ä½“éªŒï¼Œå®ƒæ˜¯åŸºäº `vite` æ„å»º `Electron` åº”ç”¨çš„ã€‚

æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ `@quick-start/electron` å·¥å…·å¿«é€Ÿåˆ›å»ºä¸€ä¸ª `electron-vite` çš„åº”ç”¨ï¼š

```sh
npm create @quick-start/electron
```

ç„¶åæŒ‰ç…§æç¤ºè¿›è¡Œä¸‹ä¸€æ­¥å³å¯ï¼š

```bash
âœ” Project name: â€¦ <electron-app>
âœ” Select a framework: â€º vue
âœ” Add TypeScript? â€¦ No / Yes
âœ” Add Electron updater plugin? â€¦ No / Yes
âœ” Enable Electron download mirror proxy? â€¦ No / Yes

Scaffolding project in ./<electron-app>...
Done.
```

æ–°å»ºå®Œæˆåï¼Œä¸€èµ·æ¥çœ‹ä¸€ä¸‹ `electron-vite` ä¸ºæˆ‘ä»¬åˆ›å»ºçš„é¡¹ç›®ç»“æ„ï¼š

```bash
.
â”œâ”€â”€ build
â”‚Â Â  â”œâ”€â”€ entitlements.mac.plist
â”‚Â Â  â”œâ”€â”€ icon.icns
â”‚Â Â  â”œâ”€â”€ icon.ico
â”‚Â Â  â””â”€â”€ icon.png
â”œâ”€â”€ resources
â”‚Â Â  â””â”€â”€ icon.png
â”œâ”€â”€ src
â”‚Â Â  â”œâ”€â”€ main
â”‚Â Â  â”‚Â Â  â””â”€â”€ index.js
â”‚Â Â  â”œâ”€â”€ preload
â”‚Â Â  â”‚Â Â  â””â”€â”€ index.js
â”‚Â Â  â””â”€â”€ renderer
â”‚Â Â      â”œâ”€â”€ index.html
â”‚Â Â      â””â”€â”€ src
â”œâ”€â”€ README.md
â”œâ”€â”€ electron-builder.yml
â”œâ”€â”€ electron.vite.config.js
â”œâ”€â”€ package.json
â””â”€â”€ yarn.lock
```

å¯ä»¥çœ‹åˆ°æ•´ä½“ç›®å½•ç»“æ„è¿˜æ˜¯æ¯”è¾ƒè§„èŒƒå’Œæ¸…æ™°çš„ï¼Œæˆ‘ä»¬å‡ ä¹ä¸éœ€è¦è¿›è¡Œä»»ä½•è°ƒæ•´å°±å¯ä»¥ç›´æ¥ä½¿ç”¨äº†ã€‚

æ¥ç€ï¼Œåœ¨æˆ‘ä»¬å®‰è£…å¥½ç›¸å…³çš„ä¾èµ–åï¼Œæˆ‘ä»¬è¿è¡Œï¼š

```sh
npm run dev
```

å°±å¯ä»¥ç›´æ¥çœ‹åˆ°è¿è¡Œç»“æœï¼š

<p align=center><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/9db0b16d2c114f149b124f80851e8b54~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=1800&h=1340&s=224494&e=png&b=343745" alt="image.png"  /></p>

> ä¸è¿‡è¿™é‡Œä½¿ç”¨çš„ `Electron` ç‰ˆæœ¬æ˜¯ `v25.9.7`ï¼Œä½¿ç”¨çš„æ˜¯æœ€æ–°å‘å¸ƒ stable ä¸‹çš„è¾ƒä½ç‰ˆæœ¬ã€‚å¦‚æœä½ æƒ³è¦å‡çº§åˆ°æœ€æ–°ç‰ˆæœ¬ï¼Œå¯ä»¥æŒ‰ç…§ä¹‹å‰çš„åšæ³•ä¸€æ ·æ¥è¿›è¡Œå‡çº§ã€‚

å¤§å·¥å‘Šæˆï¼ğŸ‰ğŸ‰


## ä¸»è¿›ç¨‹å¯åŠ¨é¡¹ç›®

ä¸ç®¡æ˜¯é€šè¿‡ `vue-cli-plugin-electron-builder` åˆ›å»ºè¿˜æ˜¯é€šè¿‡ `electron-vite` åˆ›å»ºçš„é¡¹ç›®ï¼Œéƒ½éœ€è¦é€šè¿‡å”¯ä¸€çš„ä¸»è¿›ç¨‹è¿›è¡Œåº”ç”¨ç¨‹åºçš„å¯åŠ¨ã€‚

æˆ‘ä»¬ä¹‹å‰åœ¨[ã€ŠElectron çš„åŸºç¡€æ¦‚å¿µã€‹](https://juejin.cn/book/7302990019642261567/section/7303819624217313318)ä¸­ä»‹ç»äº† Electron çš„ app æ¨¡å—ç®¡ç†è€…åº”ç”¨ç¨‹åºçš„ç”Ÿå‘½å‘¨æœŸæ¥è¯´ï¼Œä¸»è¿›ç¨‹çš„ç¬¬ä¸€æ­¥æ“ä½œå°±æ˜¯ç›‘å¬ app ready äº‹ä»¶ï¼Œæ¥åˆ›å»ºçª—å£ï¼š

```js
// main/index.js
app.whenReady().then(() => {
  // åˆ›å»ºçª—å£ã€‚
  createWindow()
})
```
æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬éœ€è¦é€šè¿‡ `createWindow` å‡½æ•°æ„é€ ä¸€ä¸ªç®€å•çš„çª—å£ï¼š

```js
// main/index.js
function createWindow() {
  // åˆ›å»ºçª—å£
  const mainWindow = new BrowserWindow({
    width: 900,
    height: 670,
    show: false,
    autoHideMenuBar: true,
    webPreferences: {
      preload: join(__dirname, '../preload/index.js'),
      sandbox: false
    }
  })

  mainWindow.on('ready-to-show', () => {
    mainWindow.show()
  })

  if (is.dev && process.env['ELECTRON_RENDERER_URL']) {
   // å¼€å‘ç¯å¢ƒï¼Œé€šè¿‡ loadURL åŠ è½½ devServer
   mainWindow.loadURL(process.env['ELECTRON_RENDERER_URL'])
  } else {
    // ç”Ÿäº§ç¯å¢ƒï¼ŒåŠ è½½æ„å»ºåçš„æ–‡ä»¶
    mainWindow.loadFile(join(__dirname, '../renderer/index.html'))
  }
}
```
éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæˆ‘ä»¬åœ¨çª—å£åˆå§‹åŒ–æ—¶ï¼ŒæŒ‡å®šäº† `show: false` çš„å‚æ•°ï¼Œæ„å‘³ç€çª—å£åˆ›å»ºå®Œæˆåä¸ä¼šç«‹å³æ˜¾ç¤ºã€‚ç„¶åé€šè¿‡ç›‘å¬ `mainWindow.on('ready-to-show')` çš„äº‹ä»¶è§¦å‘åå†é€šè¿‡ `mainWindow.show()` æ–¹æ³•æ¥æ˜¾ç¤ºçª—å£ã€‚

è¿™æ ·åšæ˜¯å› ä¸º Electron ä¸­çš„ `ready-to-show` äº‹ä»¶è¡¨ç¤ºçª—å£å†…å®¹å·²ç»åŠ è½½å®Œæˆä¸”åº”ç”¨ç¨‹åºå‡†å¤‡å¥½æ˜¾ç¤ºç»™ç”¨æˆ·ã€‚åœ¨ç­‰å¾… `ready-to-show` äº‹ä»¶è§¦å‘åå†è°ƒç”¨ `window.show()`ï¼Œå¯ä»¥ç¡®ä¿ç”¨æˆ·çœ‹åˆ°çš„æ˜¯å®Œå…¨åŠ è½½å¹¶å‡†å¤‡å¥½çš„ç•Œé¢ï¼Œé¿å…äº†å±•ç¤ºæœªå®Œæˆçš„å†…å®¹ã€‚

æœ€åï¼Œé€šè¿‡ç›‘å¬ `app.on('window-all-close')` äº‹ä»¶ï¼Œæ¥å¤„ç†é `macOS` ä¸‹çš„æ‰€æœ‰çª—å£å…³é—­åçš„é€»è¾‘ï¼šé€€å‡ºæ•´ä¸ª electron åº”ç”¨ã€‚

```js
// main/index.js
app.on('window-all-closed', () => {
  if (process.platform !== 'darwin') {
    app.quit()
  }
})
```
è¿™æ˜¯å› ä¸ºåœ¨ `windows` å¹³å°ä¸Šï¼Œé€šå¸¸æˆ‘ä»¬æŠŠåº”ç”¨çš„çª—å£éƒ½å…³äº†ä¹‹åä¹Ÿå°±é»˜è®¤æŠŠè¿™ä¸ªåº”ç”¨ç»™é€€å‡ºäº†ã€‚è€Œå¦‚æœåœ¨ macOS ç³»ç»Ÿä¸Šå´ä¸æ˜¯è¿™æ ·ã€‚æˆ‘ä»¬æŠŠåº”ç”¨çš„çª—å£å…³é—­äº†ï¼Œä½†æ˜¯å¹¶éå®Œå…¨é€€å‡ºè¿™ä¸ªåº”ç”¨ã€‚

> æˆ‘ä»¬å·²ç»åœ¨[ã€ŠElectron è·¨å¹³å°å…¼å®¹æ€§æªæ–½ã€‹](https://juejin.cn/book/7302990019642261567/section/7304648624460759081)ç« èŠ‚ä¸ºå¤§å®¶è¯¦ç»†ä»‹ç»äº†æ›´å¤šçš„ä¸€äº›è·¨å¹³å°å…¼å®¹æ€§å®ç°ã€‚


## æ€»ç»“

æ•´ä½“çœ‹æ¥ï¼Œä½¿ç”¨ `vue-cli-plugin-electron-builder` æ¥æ„å»º `Electron` åº”ç”¨çš„è¯ï¼Œéœ€è¦è‡ªå·±åšæ›´å¤šçš„é…ç½®å·¥ä½œï¼›è€Œ `electron-vite` æœ¬èº«å°±æ˜¯ä¸€ä¸ªåŸºäº `vite + electron` è„šæ‰‹æ¶å·¥å…·ï¼Œç›¸å¯¹è€Œè¨€å·²ç»æœ‰ä¸€å¥—çº¦å®šä¿—ç§°çš„ç›®å½•å’Œé…ç½®è§„èŒƒï¼Œæ‰€ä»¥å¯¹äºæ–°æ‰‹å¼€å‘è€…è€Œè¨€ä¼šæ›´åŠ å‹å¥½ã€‚

å…¶å®ä¸€ä¸ªæœ€ç®€å•çš„ `Electron` åº”ç”¨çš„ç›®å½•ç»“æ„å¤§è‡´å¦‚ä¸‹ï¼š

```
.
â”œâ”€â”€ index.html
â”œâ”€â”€ main.js
â”œâ”€â”€ renderer.js
â”œâ”€â”€ preload.js
â””â”€â”€ package.json
```

è€Œæ‰€è°“çš„æ„å»ºå·¥å…·å°±æ˜¯ä¸ºäº†ç”Ÿæˆè¿™æ ·çš„ç›®å½•å†…å®¹ï¼š

<p align=center><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/9881057730f847ef82e6c792e6a4bd88~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=1744&h=1200&s=139206&e=png&a=1&b=6f85df" alt="image.png"  /></p>










